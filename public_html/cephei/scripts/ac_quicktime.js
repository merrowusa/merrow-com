if(typeof (AC)=="undefined"){AC={};}AC.Quicktime={controllers:[],_addParameter:function(_1,_2,_3){if(!_1){return;}var _4=document.createElement("param");_4.setAttribute("value",_3);_4.setAttribute("name",_2);_1.appendChild(_4);_4=null;},_createOuterObject:function(_5,_6,_7){var _8=document.createElement("object");if(AC.Detector.isMobile()&&_7.posterFrame){AC.Quicktime._addParameter(_8,"src",_7.posterFrame);AC.Quicktime._addParameter(_8,"href",_6);AC.Quicktime._addParameter(_8,"target","myself");}else{AC.Quicktime._addParameter(_8,"src",_6);}_8.setAttribute("id",_5);var _9="7,3,0,0";if(null!=_7&&""!=_7.codebase&&typeof (_7.codebase)!="undefined"){_9=_7.codeBase;}_8.setAttribute("codebase","http://www.apple.com/qtactivex/qtplugin.cab#version="+_9);return _8;},_createInnerObject:function(_a,_b,_c){var _d=document.createElement("object");_d.setAttribute("type","video/quicktime");_d.setAttribute("data",_b);_d.setAttribute("id",_a+"Inner");return _d;},_createNullMovie:function(_e,_f){_e=0;_f=0;var _10=$(document.createElement("div"));var _11="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B";var _12="http://www.apple.com/qtactivex/qtplugin.cab#version=7,3,0,0";var _13="http://www.apple.com/quicktime/download/";_10.innerHTML="<object width=\""+_e+"\" height=\""+_f+"\" classid=\""+_11+"\" codebase=\""+_12+"\"><embed width=\""+_e+"\" height=\""+_f+"\" type=\"video/quicktime\" pluginspage=\""+_13+"\"></embed></object>";return _10;},_configureMovieOptions:function(_14,_15,_16){if(null==_16||typeof (_16)=="undefined"){return false;}for(var _17 in _16){var _18=_17.toLowerCase();switch(_18){case ("type"):case ("src"):case ("data"):case ("classid"):case ("name"):case ("id"):break;case ("class"):Element.addClassName(_15,_16[_17]);break;case ("innerId"):if(_14){_14.setAttribute("id",_16[_17]);}break;case ("width"):case ("height"):_15.setAttribute(_18,_16[_17]);if(_14){_14.setAttribute(_18,_16[_17]);}break;default:AC.Quicktime._addParameter(_15,_18,_16[_17]);AC.Quicktime._addParameter(_14,_18,_16[_17]);break;}}},packageMovie:function(_19,_1a,_1b){if(_19==null||_1a==null){throw new TypeError("Valid Name and File URL are required arguments.");}var _1c="7";if(_1b&&_1b.minVersion){_1c=_1b.minVersion;}if(!AC.Detector.isMobile()&&!AC.Detector.isValidQTAvailable(_1c)){var _1d=$(document.createElement("a"));_1d.addClassName("quicktime-download");_1d.setAttribute("href","http://www.apple.com/quicktime/download/");_1d.innerHTML=_1b.downloadText||"Get the Latest QuickTime.";return _1d;}var _1e=AC.Quicktime._createOuterObject(_19,_1a,_1b);if(!AC.Detector.isIEStrict()){var _1f=AC.Quicktime._createInnerObject(_19,_1a,_1b);_1e.appendChild(_1f);}else{if(_1b.aggressiveCleanup!==false){Event.observe(window,"unload",function(){try{_1e.Stop();}catch(e){}_1e.style.display="none";_1e=null;});}}AC.Quicktime._configureMovieOptions(_1f,_1e,_1b);AC.Quicktime._addParameter(_1e,"saveembedtags",true);AC.Quicktime._addParameter(_1f,"saveembedtags",true);_1e.setAttribute("classid","clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B");return _1e;},swapMovie:function(_20,_21,_22){var _23=AC.Detector.isIEStrict();if(_23&&_21){_21.style.display="none";}Element.removeAllChildNodes(_20);var _24=null;if(!_23){_20.appendChild(_22);_24=_22;}else{_20.innerHTML=_22.toMarkup();_24=_20.firstChild;_24.style.display="block";}return _24;},render:function(_25,_26,_27){var _28=$(_26);var _29=_28.innerHTML;if(!AC.Detector.isQTInstalled()){Element.addClassName(_28,"static");return;}_28.innerHTML="";Element.addClassName(_28,"loading");_28.appendChild(_25);var _2a=_2a?_2a:{};var _2b=function(){checkController.monitorMovie();Element.removeClassName(_26,"loading");Element.addClassName(_26,"loaded");};var _2c=function(){return;};if("finishedState" in _2a){var _2d=function(_2e,_2f){return (function(){checkController.detachFromMovie();_25.style.display="none";_25=null;_2e.innerHTML="";if(typeof (_2f)=="string"){_2e.innerHTML=_2f;}else{_2e.appendChild(_2f);}});};_2c=_2d(_28,_2a.finishedState);}var _30=new AC.QuicktimeController(_25,{onMoviePlayable:_2b,onMovieFinished:_2c});}};AC.QuicktimeController=Class.create();AC.QuicktimeController.prototype={movie:null,options:null,movieAttacher:null,attachDelay:10,movieWatcher:null,monitorDelay:400,currentTime:0,percentLoaded:0,maxBytesLoaded:0,movieSize:0,allowAttach:true,controllerPanel:null,currentControl:null,playControl:null,pauseControl:null,slider:null,track:null,playHead:null,loadedProgress:null,isJogging:false,hardPaused:false,duration:0,finished:false,playing:false,unloader:null,initialize:function(_31,_32){if(typeof (_31)!="undefined"){this.attachToMovie(_31,_32);}},attachToMovie:function(_33,_34){if(!this.allowAttach){return;}clearInterval(this.movieAttacher);this.options=_34||{};if(null==$(_33)){throw "Movie has to be appended to document prior to attaching to with a controller.";}if(!this.unloader){this.unloader=this.detachFromMovie.bind(this);Event.observe(window,"unload",this.unloader);}this.movieAttacher=setInterval(this._attach.bind(this,_33),this.attachDelay);_33=null;},_attach:function(_35){if(!this.allowAttach){return;}var _36=null;try{this.movie=_35;_36=this.movie.GetPluginStatus();}catch(e){try{this.movie=_35.getElementsByTagName("object")[0];_36=this.movie.GetPluginStatus();}catch(e){this.movie=null;}}_35=null;if(_36=="Playable"||_36=="Complete"){clearInterval(this.movieAttacher);if(!this.alreadyRecorded){this.alreadyRecorded=true;}if(typeof (this.options.onMoviePlayable)=="function"){this.options.onMoviePlayable();}}else{if(_36&&_36.match(/error/i)){clearInterval(this.movieAttacher);}}},detachFromMovie:function(){this.movie=null;this.allowAttach=false;clearInterval(this.movieAttacher);clearTimeout(this.movieWatcher);AC.Quicktime.controllers=AC.Quicktime.controllers.without(this);this.reset();Event.stopObserving(window,"unload",this.unloader);this.unloader=null;this.allowAttach=true;},reset:function(){this.duration=0;this.movieSize=0;this.percentLoaded=0;if(this.slider){this.slider.setValue(0);this.slider.trackLength=this.slider.maximumOffset()-this.slider.minimumOffset();}},render:function(_37){this.controllerPanel=document.createElement("div");Element.addClassName(this.controllerPanel,"ACQuicktimeController");this.playControl=document.createElement("div");Element.addClassName(this.playControl,"control");Element.addClassName(this.playControl,"play");this.playControl.innerHTML="Play";this.playControl.onclick=this.Play.bind(this);this.pauseControl=document.createElement("div");Element.addClassName(this.pauseControl,"control");Element.addClassName(this.pauseControl,"pause");this.pauseControl.innerHTML="Pause";this.pauseControl.onclick=this.Stop.bind(this);var _38=false;if(null!=this.movie){_38=this.GetAutoPlay();}this.currentControl=(_38)?this.pauseControl:this.playControl;this.controllerPanel.appendChild(this.currentControl);this.sliderPanel=document.createElement("div");Element.addClassName(this.sliderPanel,"sliderPanel");this.track=document.createElement("div");Element.addClassName(this.track,"track");this.sliderPanel.appendChild(this.track);this.loadedProgress=document.createElement("div");Element.addClassName(this.loadedProgress,"loadedProgress");this.track.appendChild(this.loadedProgress);this.trackProgress=document.createElement("div");Element.addClassName(this.trackProgress,"trackProgress");this.track.appendChild(this.trackProgress);this.playHead=document.createElement("div");Element.addClassName(this.playHead,"playHead");this.track.appendChild(this.playHead);this.controllerPanel.appendChild(this.sliderPanel);if(_37){$(_37).appendChild(this.controllerPanel);if(this.movie){this.monitorMovie();}}return this.controllerPanel;},_monitor:function(){if(null===this.movie){return;}var _39=this.isPlaying();if(this.controllerPanel!==null){var _3a=_39&&(this.currentControl==this.playControl);var _3b=!_39&&(this.currentControl==this.pauseControl);if(!this.isJogging&&_3a){this.controllerPanel.replaceChild(this.pauseControl,this.currentControl);this.currentControl=this.pauseControl;}else{if(!this.isJogging&&_3b){this.controllerPanel.replaceChild(this.playControl,this.currentControl);this.currentControl=this.playControl;}}if(this.percentLoaded<1){var _3c=Element.getDimensions(this.track).width;var _3d=this.GetMaxBytesLoaded()/this.GetMovieSize();if(!isNaN(_3d)&&0!==_3d){this.percentLoaded=_3d;}var _3e=_3c*this.percentLoaded;Element.setStyle(this.loadedProgress,{width:_3e+"px"});}if(_39){this.slider.setValue(this.GetTime()/this.GetDuration());}}if(_39){if(!this.playing){this.playing=true;if(typeof (this.options.onMovieStart)=="function"){this.options.onMovieStart();}}}else{if(this.playing){this.playing=false;if(typeof (this.options.onMovieStop)=="function"){this.options.onMovieStop();}}}if(this.isFinished()){if(!this.finished){if(typeof (this.options.onMovieFinished)=="function"){this.options.onMovieFinished();}this.finished=true;}}else{this.finished=false;}if(this.movie!==null){this.movieWatcher=setTimeout(this._monitor.bind(this),this.monitorDelay);}},monitorMovie:function(){if(this.controllerPanel!==null){this.slider=new Control.Slider(this.playHead,this.track,{onSlide:function(_3f){if(isNaN(_3f)){return;}this.trackProgress.style.width=this.slider.translateToPx(_3f);try{this.movie.Stop();this.isJogging=true;this.SetTime(_3f*this.GetDuration());}catch(e){}}.bind(this),onChange:function(_40){if(isNaN(_40)){return;}if(0==this.slider.trackLength){this.slider.trackLength=this.slider.maximumOffset()-this.slider.minimumOffset();}this.trackProgress.style.width=this.slider.translateToPx(_40);if(!this.isPlaying()&&!this.hardPaused&&!this.isFinished()){try{this.movie.Play();}catch(e){}}this.isJogging=false;}.bind(this)});this.slider.updateStyles=Prototype.emptyFunction;}this.movieWatcher=setTimeout(this._monitor.bind(this),this.monitorDelay);},Play:function(){if(null!=this.movie){try{this.movie.Play();this.hardPaused=false;}catch(e){}}},Stop:function(){if(null!=this.movie){try{this.movie.Stop();this.hardPaused=true;}catch(e){}}},Rewind:function(){if(null!=this.movie){this.movie.Stop();this.movie.Rewind();}},Step:function(_41){this.movie.Step(_41);},ShowDefaultView:function(){this.movie.ShowDefaultView();},GoPreviousNode:function(){this.movie.GoPreviousNode();},GetQuicktimeVersion:function(){return this.movie.GetQuickTimeVersion();},GetQuicktimeLanguage:function(){return this.movie.GetQuicktimeLanguage();},GetQuicktimeConnectionSpeed:function(){return this.movie.GetQuicktimeConnectionSpeed();},GetIsQuickTimeRegistered:function(){return this.movie.GetIsQuickTimeRegistered();},GetComponentVersion:function(){return this.movie.GetComponentVersion();},GetPluginVersion:function(){return this.movie.GetPluginVersion();},ResetPropertiesOnReload:function(){this.movie.ResetPropertiesOnReload();},GetPluginStatus:function(){return this.movie.GetPluginStatus();},GetAutoPlay:function(){return this.movie.GetAutoPlay();},SetAutoPlay:function(_42){this.movie.SetAutoPlay(_42);},GetControllerVisible:function(){return this.movie.GetControllerVisible();},SetControllerVisible:function(_43){this.movie.SetControllerVisible(_43);},GetRate:function(){return this.movie.GetRate();},SetRate:function(_44){this.movie.SetRate();},GetTime:function(){var _45=0;try{_45=this.movie.GetTime();}catch(e){}if(0===_45){_45=this.currentTime+this.monitorDelay;}else{this.currentTime=_45;}return _45;},SetTime:function(_46){this.movie.SetTime(_46);},GetVolume:function(){return this.movie.GetVolume();},SetVolume:function(_47){this.movie.SetVolume(_47);},GetMute:function(){return this.movie.GetMute();},SetMute:function(_48){this.movie.SetMute();},GetMovieName:function(){return this.movie.GetMovieName();},SetMovieName:function(_49){this.movie.SetMovieName(_49);},GetMovieID:function(){return this.movie.GetMovieID();},SetMovieID:function(_4a){this.movie.SetMovieID(_4a);},GetStartTime:function(){return this.movie.GetStartTime();},SetStartTime:function(_4b){this.movie.SetStartTime(_4b);},GetEndTime:function(){return this.movie.GetEndTime();},SetEndTime:function(_4c){this.movie.SetEndTime(_4c);},GetBgColor:function(){return this.movie.GetBgColor();},SetBgColor:function(_4d){this.movie.SetBgColor(_4d);},GetIsLooping:function(){return this.movie.GetIsLooping();},SetIsLooping:function(_4e){this.movie.SetIsLooping(_4e);},GetLoopIsPalindrome:function(){return this.movie.GetLoopIsPalindrome();},SetLoopIsPalindrome:function(_4f){this.movie.SetLoopIsPalindrome(_4f);},GetPlayEveryFrame:function(){return this.movie.GetPlayEveryFrame();},SetPlayEveryFrame:function(_50){this.movie.SetPlayEveryFrame(_50);},GetHREF:function(){return this.movie.GetHREF();},SetHREF:function(url){this.movie.SetHREF(url);},GetTarget:function(){return this.movie.GetTarget();},SetTarget:function(_52){this.movie.SetTarget(_52);},GetQTNEXTUrl:function(){return this.movie.GetQTNEXTUrl();},SetQTNEXTUrl:function(_53,url){this.movie.SetQTNEXTUrl(_53,url);},GetURL:function(){return this.movie.GetURL();},SetURL:function(url){this.movie.SetURL(url);this.reset();},GetKioskMode:function(){return this.movie.GetKioskMode();},SetKioskMode:function(_56){this.movie.SetKioskMode(_56);},GetDuration:function(){if(null==this.duration||0===this.duration){try{this.duration=this.movie.GetDuration();}catch(e){this.duration=null;}}return this.duration;},GetMaxTimeLoaded:function(){return this.movie.GetMaxTimeLoaded();},GetTimeScale:function(){return this.movie.GetTimeScale();},GetMovieSize:function(){if(0===this.movieSize){try{this.movieSize=this.movie.GetMovieSize();}catch(e){this.movieSize=0;}}return this.movieSize;},GetMaxBytesLoaded:function(){try{this.maxBytesLoaded=this.movie.GetMaxBytesLoaded();}catch(e){}return this.maxBytesLoaded;},GetTrackCount:function(){return this.movie.GetTrackCount();},GetMatrix:function(){return this.movie.GetMatrix();},SetMatrix:function(_57){this.movie.SetMatrix(_57);},GetRectangle:function(){return this.movie.GetRectangle();},SetRectangle:function(_58){this.movie.SetRectangle(_58);},GetLanguage:function(){return this.movie.GetLanguage();},SetLanguage:function(_59){this.movie.SetLanguage(_59);},GetMIMEType:function(){return this.movie.GetMIMEType();},GetUserData:function(_5a){return this.movie.GetUserData(_5a);},GetIsVRMovie:function(){return this.movie.GetIsVRMovie();},GetHotspotUrl:function(_5b){return this.movie.GetHotspotUrl(_5b);},SetHotspotUrl:function(_5c,url){this.movie.SetHotspotUrl(_5c,url);},GetHotspotTarget:function(_5e){return this.movie.GetHotspotTarget(_5e);},SetHotspotTarget:function(_5f,_60){this.movie.SetHotspotTarget(_5f,_60);},GetPanAngle:function(){return this.movie.GetPanAngle();},SetPanAngle:function(_61){this.movie.SetPanAngle(_61);},GetTiltAngle:function(){return this.movie.GetTiltAngle();},SetTiltAngle:function(_62){this.movie.SetTiltAngle(_62);},GetFieldOfView:function(){return this.movie.GetFieldOfView();},SetFieldOfView:function(fov){this.movie.SetFieldOfView(fov);},GetNodeCount:function(){return this.movie.GetNodeCount();},SetNodeID:function(id){this.movie.SetNodeID(id);},GetTrackName:function(_65){return this.movie.GetTrackName(_65);},GetTrackType:function(_66){return this.movie.GetTrackType(_66);},GetTrackEnabled:function(_67){return this.movie.GetTrackEnabled(_67);},SetTrackEnabled:function(_68,_69){this.movie.SetTrackEnabled(_68,_69);},GetSpriteTrackVariable:function(_6a,_6b){return this.movie.GetSpriteTrackVariable(_6a,_6b);},SetSpriteTrackVariable:function(_6c,_6d){this.movie.SetSpriteTrackVariable(_6c,_6d);},GetChapterCount:function(){try{return this.movie.GetChapterCount();}catch(e){return NaN;}},GetChapterName:function(_6e){try{return this.movie.GetChapterName(_6e);}catch(e){return null;}},GoToChapter:function(_6f){try{this.movie.GoToChapter(_6f);return true;}catch(e){return false;}},isPlaying:function(){try{return this.movie.GetRate()!==0;}catch(e){return false;}},isFinished:function(){try{var _70=this.movie.GetRate()===0;var _71=this.movie.GetTime()==this.GetDuration();return _70&&_71;}catch(e){return false;}},toggle:function(){if(this.isPlaying()){this.Stop();}else{this.Play();}}};