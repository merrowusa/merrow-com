google_api_version=gv_api_version=FindGoogleAPIVersion();if(!self.GLatLng){google_api_version=0;}if(self.gv_maptypecontrol_style){if(document.getElementById("gv_credit")&&document.getElementById("gv_credit").innerHTML.indexOf("gpsvisualizer.com")<0){var credit_div=document.getElementById("gv_credit");credit_div.style.font="10px Verdana,sans-serif";credit_div.style.padding="1px";credit_div.style.backgroundColor="#ffffff";credit_div.innerHTML="<b>Map created at <a target=\"_top\" href=\"http://www.gpsvisualizer.com/\">GPSVisualizer.com</a></b>";}}if(!self.gv_options){GV_Setup_Global_Variables();}function GV_Setup_Global_Variables(){if(!self.gv_icons){gv_icons=[];}gv_icons["circle"]={is:[11,11],ia:[5,5],ss:[13,13],iwa:[10,2],isa:[5,9],im:[0,0,10,0,10,10,0,10,0,0],letters:true};gv_icons["pin"]={is:[15,26],ia:[7,25],ss:[30,26],iwa:[7,1],isa:[12,16],im:[5,25,5,15,2,13,1,12,0,10,0,5,1,2,2,1,4,0,10,0,12,1,13,2,14,4,14,10,13,12,12,13,9,15,9,25,5,25],letters:true};gv_icons["square"]={is:[11,11],ia:[5,5],ss:[13,13],iwa:[10,2],isa:[5,9],im:[0,0,10,0,10,10,0,10,0,0],letters:true};gv_icons["triangle"]={is:[13,13],ia:[6,6],ss:[15,15],iwa:[11,3],isa:[6,10],im:[0,11,6,0,12,11,0,11],letters:false};gv_icons["diamond"]={is:[13,13],ia:[6,6],ss:[13,13],iwa:[11,3],isa:[6,10],im:[6,0,12,6,6,12,0,6,6,0],letters:false};gv_icons["airport"]={is:[17,17],ia:[8,8],ss:[19,19],iwa:[13,3],isa:[13,17],im:[6,0,10,0,16,6,16,10,10,16,6,16,0,10,0,6,6,0],letters:false};gv_icons["google"]={is:[20,34],ia:[9,33],ss:[37,34],iwa:[9,2],isa:[18,25],im:[8,33,8,23,1,13,1,6,6,1,13,1,18,6,18,13,11,23,11,33],letters:true};gv_icons["googleblank"]={is:[20,34],ia:[9,33],ss:[37,34],iwa:[9,2],isa:[18,25],im:[8,33,8,23,1,13,1,6,6,1,13,1,18,6,18,13,11,23,11,33],letters:true};gv_icons["googlemini"]={is:[12,20],ia:[6,20],ss:[22,20],iwa:[5,1],isa:[10,15],im:[4,19,4,14,0,7,0,3,4,0,7,0,11,3,11,7,7,14,7,19,4,19],letters:true};gv_icons["blankcircle"]={is:[64,64],ia:[31,31],ss:[70,70],iwa:[55,8],isa:[31,63],im:[19,3,44,3,60,19,60,44,44,60,19,60,3,44,3,19,19,3],letters:false};gv_icons["camera"]={is:[17,13],ia:[8,6],ss:[19,15],iwa:[13,3],isa:[13,10],im:[1,3,6,1,10,1,15,3,15,11,1,11,1,3],letters:false};gv_icons["tickmark"]={is:[13,13],ia:[6,6],ss:[],iwa:[11,3],isa:[],im:[6,0,12,6,6,12,0,6,6,0],letters:false};gv_named_html_colors=GV_Define_Named_Colors();if(self.gv_default_marker){gv_marker_icon=(gv_default_marker["icon"])?gv_default_marker["icon"]:"googlemini";gv_marker_color=(gv_default_marker["color"])?gv_default_marker["color"]:"red";if(!gv_default_marker["icon_size"]){gv_default_marker["icon_size"]=gv_default_marker["size"];}gv_marker_icon_size=(gv_default_marker["icon_size"])?gv_default_marker["icon_size"]:null;if(!gv_default_marker["icon_anchor"]){gv_default_marker["icon_anchor"]=gv_default_marker["anchor"];}gv_marker_icon_anchor=(gv_default_marker["icon_anchor"])?gv_default_marker["icon_anchor"]:null;gv_marker_icon_trans=(gv_default_marker["transparent"])?gv_default_marker["transparent"]:null;gv_marker_icon_imagemap=(gv_default_marker["imagemap"])?gv_default_marker["imagemap"]:null;}else{if(!self.gv_marker_icon){gv_marker_icon=(self.default_icon_style)?default_icon_style:"googlemini";}if(!self.gv_marker_color){gv_marker_color=(self.default_icon_color)?default_icon_color:"red";}gv_marker_icon_size=gv_marker_icon_trans=gv_marker_icon_imagemap=null;}if(!self.gv_marker_link_target){gv_marker_link_target=(self.marker_link_target)?marker_link_target:"_blank";}if(!self.gv_maptypecontrol_style){gv_maptypecontrol_style=(self.maptypecontrol_style)?maptypecontrol_style:"menu";}if(self.gv_filter_map_types==null){gv_filter_map_types=(self.filter_map_types!=null)?filter_map_types:true;}if(!self.gv_bg_opacity){gv_bg_opacity=(self.gv_bg_opacity)?gv_bg_opacity:100;}if(!self.gv_icon_directory){gv_icon_directory="http://maps.gpsvisualizer.com/google_maps/icons/";}if(self.gv_driving_directions==null){gv_driving_directions=false;}if(self.gv_label_offset&&self.gv_label_offset.length>1){gv_label_offset_x=gv_label_offset[0];gv_label_offset_y=gv_label_offset[1];}else{gv_label_offset_x=0;gv_label_offset_y=0;}if(!self.gv_label_centered){gv_label_centered=false;}gv_icon_directory=gv_icon_directory.replace(/http:\/\/www\.gpsvisualizer\.com\/google_maps\//,"http://maps.gpsvisualizer.com/google_maps/");gv_marker_list_exists=null;gv_marker_list_html="";gv_marker_list_folders=[];gv_marker_list_count=0;gv_marker_list_div=null;gv_marker_list_div_name=null;gv_marker_list_map_name=null;gv_marker_array_name=(self.gv_marker_list_options&&gv_marker_list_options["array"])?gv_marker_list_options["array"]:"wpts";if(self.gv_marker_list_options){gv_marker_list_html="";gv_marker_list_folders=[];gv_marker_list_count=0;gv_marker_list_map_name=(gv_marker_list_options["map"])?gv_marker_list_options["map"]:"gmap";if(gv_marker_list_options["id"]){gv_marker_list_options["div"]=gv_marker_list_options["id"];}else{if(gv_marker_list_options["floating"]===false||gv_marker_list_options["floating"]===true){if(gv_marker_list_options["floating"]===false){gv_marker_list_options["div"]=(gv_marker_list_options["id_static"])?gv_marker_list_options["id_static"]:"gv_marker_list";}else{gv_marker_list_options["div"]=(gv_marker_list_options["id_static"])?gv_marker_list_options["id_floating"]:"gv_marker_list";}}}if(document.getElementById(gv_marker_list_options["div"])){gv_marker_list_div_name=gv_marker_list_options["div"];gv_marker_list_div=document.getElementById(gv_marker_list_div_name);}else{if(document.getElementById("gv_marker_list")){gv_marker_list_div_name="gv_marker_list";gv_marker_list_div=document.getElementById(gv_marker_list_div_name);}else{gv_marker_list_div_name="";gv_marker_list_div=null;}}if(gv_marker_list_div){if(gv_marker_list_options["list"]===false){gv_marker_list_div.style.display="none";gv_marker_list_exists=false;}else{if(gv_marker_list_div.style.display==""||gv_marker_list_options["list"]==true){gv_marker_list_div.style.display="block";gv_marker_list_exists=true;}else{gv_marker_list_exists=false;}}}else{gv_marker_list_exists=false;}}gv_filter_waypoints=null;gv_filter_marker_list=null;if(self.gv_marker_filter_options){gv_filter_marker_list=(gv_marker_filter_options["update_list"])?true:false;gv_filter_waypoints=(gv_marker_filter_options["filter"])?true:false;if(gv_marker_filter_options["dynamic_marker_options"]&&gv_marker_filter_options["dynamic_marker_options"]["url"]){gv_marker_filter_options["filter"]=false;gv_filter_waypoints=false;}}defaultIcon=new GIcon();if(gv_marker_icon.substring(0,7)=="http://"){defaultIcon.image=gv_marker_icon;defaultIcon.iconSize=(self.gv_marker_icon_size&&gv_marker_icon_size[0]&&gv_marker_icon_size[1])?new GSize(gv_marker_icon_size[0],gv_marker_icon_size[1]):new GSize(32,32);defaultIcon.iconAnchor=(self.gv_marker_icon_anchor&&gv_marker_icon_anchor[0]!=null&&gv_marker_icon_anchor[1]!=null)?new GPoint(gv_marker_icon_anchor[0],gv_marker_icon_anchor[1]):new GPoint(defaultIcon.iconSize.width*0.5,defaultIcon.iconSize.height*0.5);defaultIcon.infoWindowAnchor=new GPoint(defaultIcon.iconSize.width*0.75,0);defaultIcon.infoShadowAnchor=new GPoint(defaultIcon.iconSize.width*0.5,defaultIcon.iconSize.height);defaultIcon.transparent=(self.gv_marker_icon_trans&&gv_marker_icon_trans.substring(0,7)=="http://")?gv_marker_icon_trans:null;defaultIcon.imageMap=(self.gv_marker_icon_imagemap&&gv_marker_icon_imagemap.length>5)?gv_marker_icon_imagemap:[0,0,0,defaultIcon.iconSize.height-1,defaultIcon.iconSize.width-1,defaultIcon.iconSize.height-1,defaultIcon.iconSize.width-1,0,0,0];defaultIcon.shadow=null;defaultIcon.shadowSize=null;gv_icons[gv_marker_icon]={is:[defaultIcon.iconSize.width,defaultIcon.iconSize.height],ia:[defaultIcon.iconAnchor.x,defaultIcon.iconAnchor.y],ss:null,iwa:[defaultIcon.infoWindowAnchor.width,defaultIcon.infoWindowAnchor.height],isa:[defaultIcon.infoShadowAnchor.width,defaultIcon.infoShadowAnchor.height],im:defaultIcon.imageMap};}else{if(!gv_icons[gv_marker_icon]){gv_marker_icon="googlemini";}defaultIcon.image=gv_icon_directory+gv_marker_icon+"/"+gv_marker_color.toLowerCase()+".png";defaultIcon.transparent=gv_icon_directory+gv_marker_icon+"/"+gv_marker_color.toLowerCase()+"-t.png";defaultIcon.iconSize=new GSize(gv_icons[gv_marker_icon]["is"][0],gv_icons[gv_marker_icon]["is"][1]);defaultIcon.iconAnchor=new GPoint(gv_icons[gv_marker_icon]["ia"][0],gv_icons[gv_marker_icon]["ia"][1]);defaultIcon.shadow=(gv_icons[gv_marker_icon]["ss"]&&gv_icons[gv_marker_icon]["ss"][0])?gv_icon_directory+gv_marker_icon+"/shadow.png":null;defaultIcon.shadowSize=(gv_icons[gv_marker_icon]["ss"]&&gv_icons[gv_marker_icon]["ss"][0])?new GSize(gv_icons[gv_marker_icon]["ss"][0],gv_icons[gv_marker_icon]["ss"][1]):null;defaultIcon.infoWindowAnchor=new GPoint(gv_icons[gv_marker_icon]["iwa"][0],gv_icons[gv_marker_icon]["iwa"][1]);defaultIcon.infoShadowAnchor=new GPoint(gv_icons[gv_marker_icon]["isa"][0],gv_icons[gv_marker_icon]["isa"][1]);if(gv_icons[gv_marker_icon]["im"]){defaultIcon.imageMap=[];for(i=0;i<gv_icons[gv_marker_icon]["im"].length;i++){defaultIcon.imageMap[i]=gv_icons[gv_marker_icon]["im"][i];}}else{defaultIcon.imageMap=[0,0,0,gv_icons[gv_marker_icon]["is"][1]-1,gv_icons[gv_marker_icon]["is"][0]-1,gv_icons[gv_marker_icon]["is"][1]-1,gv_icons[gv_marker_icon]["is"][0]-1,0,0,0];}}if(self.gv_default_marker&&gv_default_marker["scale"]){var sc=gv_default_marker["scale"];defaultIcon.iconSize.width*=sc;defaultIcon.iconSize.height*=sc;defaultIcon.iconAnchor.x*=sc;defaultIcon.iconAnchor.y*=sc;defaultIcon.infoWindowAnchor.x*=sc;defaultIcon.infoWindowAnchor.y*=sc;if(defaultIcon.shadow){defaultIcon.shadowSize.width*=sc;defaultIcon.shadowSize.height*=sc;defaultIcon.infoShadowAnchor.x*=sc;defaultIcon.infoShadowAnchor.y*=sc;}if(defaultIcon.imageMap){for(i=0;i<defaultIcon.imageMap.length;i++){defaultIcon.imageMap[i]*=sc;}}}if(self.gv_default_marker&&gv_default_marker["opacity"]==100){gv_default_marker["opacity"]=1;}}GV_Styles();function GV_Styles(){document.writeln("\t\t<style type=\"text/css\">");document.writeln("\t\t\timg.gv_wpt_thumbnail { display:block; text-decoration:none; margin:0px; }");document.writeln("\t\t\timg.gv_wpt_photo { display:block; text-decoration:none; margin:0px; }");document.writeln("\t\t\t.gv_tooltip { background-color:#ffffff; filter:alpha(opacity=100); -moz-opacity:1.0; border:1px solid #666666; padding:2px; text-align:left; font:10px Verdana,sans-serif; color:black; white-space:nowrap; }");document.writeln("\t\t\t.gv_tooltip img.gv_wpt_thumbnail { display:block; padding-top:3px; }");document.writeln("\t\t\t.gv_tooltip img.gv_wpt_photo { display:none; }");document.writeln("\t\t\t.gv_label { filter:alpha(opacity=90); -moz-opacity:0.9; background:#333333; border:1px solid black; padding:1px; text-align:left; white-space:nowrap; font:9px Verdana,sans-serif; color:white; }");document.writeln("\t\t\t.gv_wpt { font: 10px Verdana,sans-serif; }");document.writeln("\t\t\t.gv_wpt_name { padding-bottom:4px; }");document.writeln("\t\t\t.gv_wpt img.gv_wpt_thumbnail { border-width:1px; margin:6px 0px 6px 0px; }");document.writeln("\t\t\t.gv_wpt img.gv_wpt_photo { margin:8px 0px 8px 0px; }");document.writeln("\t\t\t.gv_driving_directions { background-color:#eeeeee; padding:4px; margin-top:12px; }");document.writeln("\t\t\t.gv_driving_directions_heading { color:#666666; font-weight:bold; }");document.writeln("\t\t\timg.hidden_in_info_window { display:none; }");document.writeln("\t\t\t.gv_label { filter:alpha(opacity=80); -moz-opacity:0.8; background:#333333; border:1px solid black; padding:1px; text-align:left; white-space: nowrap; font:9px Verdana,sans-serif; color:white; }");document.writeln("\t\t\t.gv_label img { display:none; }");document.writeln("\t\t\t.gv_legend_item { padding-bottom:0px; line-height:1em; font-weight:bold; }");document.writeln("\t\t\t.gv_tracklist_item { padding-top:1px; padding-bottom:2px; }");document.writeln("\t\t\t.gv_tracklist_name { font-weight:bold; }");document.writeln("\t\t\t.gv_tracklist_desc { font-weight:normal; padding-top:2px; }");document.writeln("\t\t\t.gv_marker_list { font-family:Verdana,sans-serif; font-size:10px; }");document.writeln("\t\t\t.gv_marker_list_item { padding:2px 0px 4px 0px; font-family:Verdana,sans-serif; font-size:10px; line-height:1.2em; }");document.writeln("\t\t\t.gv_marker_list_item .name { font-size:10px; font-weight:bold; }");document.writeln("\t\t\t.gv_marker_list_item .desc { font-size:9px; filter:alpha(opacity=80); -moz-opacity:0.8; }");document.writeln("\t\t\t.gv_marker_list_item .icon { cursor:crosshair; float:left; margin-right:4px; margin-bottom:1px; }");document.writeln("\t\t\t.gv_marker_list_border_top { border-top:1px solid #CCCCCC; }");document.writeln("\t\t\t.gv_marker_list_border_bottom { border-bottom:1px solid #CCCCCC; }");document.writeln("\t\t\t.gv_marker_list_thumbnail { padding-top:3px; border-width:1px; display:none; }");document.writeln("\t\t\t.gv_marker_list_thumbnail img { border-width:1px; }");document.writeln("\t\t\t.gv_marker_list_folder { padding-bottom:4px; }");document.writeln("\t\t\t.gv_marker_list_folder_name { font-size:11px; font-weight:bold; padding-bottom:2px; background:#E4E4E4; }");document.writeln("\t\t\t.gv_marker_list_folder_contents { padding-left:15px; }");document.writeln("\t\t\t.gv_maptypelink { background-color:#dddddd; color:#000000; text-align:center; white-space: nowrap; border:1px solid; border-color: #999999 #222222 #222222 #999999; padding:1px 2px 1px 2px; margin-bottom:3px; font:9px Verdana,sans-serif; text-decoration:none; cursor:pointer; }");document.writeln("\t\t\t.gv_maptypelink_selected { background-color:#ffffff; }");document.writeln("\t\t\t.gv_opacity_screen { background-color:#ffffff; }");document.writeln("\t\t</style>");document.writeln("\t\t<style type=\"text/css\" media=\"print\">");document.writeln("\t\t\timg[src^=\"http://www.gpsvisualizer.com/\"].gmnoprint { display:inline; }");document.writeln("\t\t\timg[src^=\"http://maps.gpsvisualizer.com/\"].gmnoprint { display:inline; }");document.writeln("\t\t\timg[src^=\"http://mt.google.com/mld\"].gmnoprint { display:inline; }");document.writeln("\t\t\timg[src$=\"transparent.png\"].gmnoprint { display:none; }");document.writeln("\t\t\timg[src$=\"shadow.png\"].gmnoprint { display:none; }");document.writeln("\t\t\timg[src$=\"crosshair.gif\"].gmnoprint { display:none; }");document.writeln("\t\t\t.gv_label { color:black; background:white; filter:alpha(opacity=100); -moz-opacity:1.0; }");document.writeln("\t\t</style>");}function GV_Setup_Map(_2){var _3=_2["map"]||"gmap";var _4=eval(_3);if(!_4){return false;}var _5=_2["marker_array"]||"wpts";var _6=_2["track_info_array"]||"trk_info";gv_default_marker=_2["default_marker"];gv_icon_directory=_2["icon_directory"];gv_marker_link_target=_2["marker_link_target"];gv_driving_directions=_2["driving_directions"];gv_hide_labels=_2["hide_labels"];gv_label_offset=_2["label_offset"];gv_label_centered=_2["label_centered"];gv_marker_filter_options=_2["marker_filter_options"];if(_2["marker_list_options"]){gv_marker_list_options=_2["marker_list_options"];}else{gv_marker_list_options=[];}gv_marker_list_options["map"]=_3;gv_marker_list_options["array"]=_5;if(_2["full_screen"]){document.body.style.margin="0px";document.body.style.overflow="hidden";GV_Fill_Window_With_Map(_4.getContainer().id);_4.getContainer().style.margin="0px";gv_marker_list_options["floating"]=true;}GV_Setup_Global_Variables();if(!_2["doubleclick_zoom"]){_4.disableDoubleClickZoom();}if(_2["mousewheel_zoom"]){if(_2["mousewheel_zoom"]=="reverse"){GEvent.addDomListener(document.getElementById(_2["map_div"]),"DOMMouseScroll",GV_MouseWheelReverse);GEvent.addDomListener(document.getElementById(_2["map_div"]),"mousewheel",GV_MouseWheelReverse);}else{GEvent.addDomListener(document.getElementById(_2["map_div"]),"DOMMouseScroll",GV_MouseWheel);GEvent.addDomListener(document.getElementById(_2["map_div"]),"mousewheel",GV_MouseWheel);}}if(_2["zoom"]=="auto"||(!_2["zoom"]&&_2["zoom"]!="0")){if(!_2["center"]||(_2["center"]||_2["center"].length==0)){_2["center"]=[40,-100];}_4.setCenter(new GLatLng(_2["center"][0],_2["center"][1]),8,eval(_2["map_type"]||"G_NORMAL_MAP"));}else{_4.setCenter(new GLatLng(_2["center"][0],_2["center"][1]),_2["zoom"],eval(_2["map_type"]||"G_NORMAL_MAP"));}if(_2["map_type_control"]&&_2["map_type_control"]["style"]&&_2["map_type_control"]["style"]=="google"){_4.addControl(gv_maptypecontrol=new GMapTypeControl());}else{if(_2["map_type_control"]&&_2["map_type_control"]["style"]&&_2["map_type_control"]["style"]!="none"){_4.addControl(gv_maptypecontrol=new GV_MapTypeControl(_2["map_type_control"]));}}if(_2["map_opacity_control"]){_4.addControl(gv_mapopacitycontrol=new GV_MapOpacityControl(_2["map_opacity"]));}else{if(_2["map_opacity"]!=1&&_2["map_opacity"]!=100){GV_Background_Opacity(_4,_2["map_opacity"]);}}if(_2["zoom_control"]&&_2["zoom_control"]!="none"&&_2["zoom_control"]!="false"){if(_2["zoom_control"]=="small"){_4.addControl(new GSmallMapControl());}else{_4.addControl(new GLargeMapControl());}}if(_2["scale_control"]){_4.addControl(new GScaleControl());}if(_2["tracklist_options"]&&_2["tracklist_options"]["tracklist"]){var o=_2["tracklist_options"];o["container_id"]=o["id"]+"_container";o["table_id"]=o["id"]+"_table";o["handle_id"]=o["id"]+"_handle";if(document.getElementById(o["container_id"])&&o["position"]&&o["position"].length>=3){if(document.getElementById(o["table_id"])&&document.getElementById(o["handle_id"])&&o["draggable"]){var _8=2000;document.getElementById(o["table_id"]).style.top="-"+_8+"px";if(o["position"][0].indexOf("_BOTTOM_")>-1){GV_Place_Control(_4,o["container_id"],eval(o["position"][0]),o["position"][1],o["position"][2]-_8);}else{GV_Place_Control(_4,o["container_id"],eval(o["position"][0]),o["position"][1],o["position"][2]+_8);}Drag.init(document.getElementById(o["handle_id"]),document.getElementById(o["table_id"]));if(o["collapsible"]){GV_Windowshade_Setup(o["handle_id"],o["id"]);}}else{GV_Place_Control(_4,o["container_id"],eval(o["position"][0]),o["position"][1],o["position"][2]);if(document.getElementById(o["handle_id"])){document.getElementById(o["handle_id"]).style.display="none";}}}}if(self.gv_marker_list_options&&gv_marker_list_options["list"]&&gv_marker_list_exists){var o=gv_marker_list_options;if(o["floating"]===false&&o["id_static"]){o["id"]=o["id_static"];}else{if(o["floating"]&&o["id_floating"]){o["id"]=o["id_floating"];}else{if(!o["id"]){o["id"]="gv_marker_list";}}}o["container_id"]=o["id"]+"_container";o["table_id"]=o["id"]+"_table";o["handle_id"]=o["id"]+"_handle";if(o["floating"]&&o["container_id"]&&document.getElementById(o["container_id"])){if(o["width"]){document.getElementById(o["id"]).style.width=o["width"]+"px";}if(o["height"]){document.getElementById(o["id"]).style.height=o["height"]+"px";}if(document.getElementById(o["container_id"])&&o["position"]&&o["position"].length>=3){if(document.getElementById(o["table_id"])&&document.getElementById(o["handle_id"])&&o["draggable"]){var _a=2000;document.getElementById(o["table_id"]).style.top="-"+_a+"px";if(o["position"][0].indexOf("_BOTTOM_")>-1){GV_Place_Control(_4,o["container_id"],eval(o["position"][0]),o["position"][1],o["position"][2]-_a);}else{GV_Place_Control(_4,o["container_id"],eval(o["position"][0]),o["position"][1],o["position"][2]+_a);}Drag.init(document.getElementById(o["handle_id"]),document.getElementById(o["table_id"]));if(o["collapsible"]){GV_Windowshade_Setup(o["handle_id"],o["id"]);}}else{GV_Place_Control(_4,o["container_id"],eval(o["position"][0]),o["position"][1],o["position"][2]);if(document.getElementById(o["handle_id"])){document.getElementById(o["handle_id"]).style.display="none";}}}}else{if(document.getElementById(o["id"])){document.getElementById(o["id"]).style.display="block";}}}if(_2["legend_options"]&&_2["legend_options"]["legend"]){var o=_2["legend_options"];o["container_id"]=o["id"]+"_container";o["table_id"]=o["id"]+"_table";o["handle_id"]=o["id"]+"_handle";if(document.getElementById(o["container_id"])&&o["position"]&&o["position"].length>=3){if(document.getElementById(o["table_id"])&&document.getElementById(o["handle_id"])&&o["draggable"]){var _c=2000;document.getElementById(o["table_id"]).style.top="-"+_c+"px";if(o["position"][0].indexOf("_BOTTOM_")>-1){GV_Place_Control(_4,o["container_id"],eval(o["position"][0]),o["position"][1],o["position"][2]-_c);}else{GV_Place_Control(_4,o["container_id"],eval(o["position"][0]),o["position"][1],o["position"][2]+_c);}Drag.init(document.getElementById(o["handle_id"]),document.getElementById(o["table_id"]));if(o["collapsible"]){GV_Windowshade_Setup(o["handle_id"],o["id"]);}}else{GV_Place_Control(_4,o["container_id"],eval(o["position"][0]),o["position"][1],o["position"][2]);if(document.getElementById(o["handle_id"])){document.getElementById(o["handle_id"]).style.display="none";}}}}if(_2["center_coordinates"]){if(!document.getElementById("gv_center_container")){var _d=document.createElement("div");_d.id="gv_center_container";_d.style.display="none";_d.innerHTML="<table style=\"cursor:crosshair; filter:alpha(opacity=80); -moz-opacity:0.80;\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tr><td><div id=\"gv_center_coordinates\" style=\"background-color:#ffffff; border:solid #666666 1px; padding:1px; font-family:Arial; font-size:10px; line-height:11px;\" class=\"gmnoprint\" onClick=\"GV_Toggle('gv_crosshair'); gv_crosshair_temporarily_hidden = false;\" title=\"Click here to turn center crosshair on or off\"></div></td></tr></table>";_4.getContainer().appendChild(_d);}GV_Place_Control(_4,"gv_center_container",G_ANCHOR_BOTTOM_LEFT,4,40);if(!document.getElementById("gv_crosshair_container")){var _e=document.createElement("div");_e.id="gv_crosshair_container";_e.style.display="none";_e.className="gmnoprint";_e.innerHTML="<div id=\"gv_crosshair\" align=\"center\" style=\"width:15px; height:15px; display:block;\"><img src=\"http://maps.gpsvisualizer.com/google_maps/crosshair.gif\" alt=\"\" width=\"15\" height=\"15\"></div>";_4.getContainer().appendChild(_e);}if(document.getElementById("gv_crosshair")){document.getElementById("gv_crosshair").style.display=(_2["crosshair_hidden"])?"none":"block";gv_hidden_crosshair_is_still_hidden=true;}GV_Setup_Crosshair(_4,{crosshair_container_id:"gv_crosshair_container",crosshair_graphic_id:"gv_crosshair",crosshair_width:15,center_coordinates_id:"gv_center_coordinates",fullscreen:_2["full_screen"]});}if(document.getElementById("gv_credit")&&document.getElementById("gv_credit").innerHTML.indexOf("gpsvisualizer.com")<0){var _f=document.getElementById("gv_credit");_f.parentNode.removeChild(_f);}if(!document.getElementById("gv_credit")){var _10=document.createElement("div");_10.id="gv_credit";_10.style.display="none";_10.style.font="10px Verdana,sans-serif";_10.style.padding="1px";_10.style.backgroundColor="#ffffff";_10.style.filter="alpha(opacity=80)";_10.style.MozOpacity=0.8;_10.style.KhtmlOpacity=0.8;_10.innerHTML=(gv_options["custom_credit"]&&gv_options["custom_credit"].indexOf("gpsvisualizer.com")>-1)?gv_options["custom_credit"]:"<b>Map created at <a target=\"_top\" href=\"http://www.gpsvisualizer.com/\">GPSVisualizer.com</a></b>";_4.getContainer().appendChild(_10);}if(gv_options["credit_position"]&&gv_options["credit_position"].length>=3&&gv_options["credit_position"][1]<_4.getContainer().clientWidth&&gv_options["credit_position"][2]<_4.getContainer().clientHeight){GV_Place_Control(_4,"gv_credit",eval(gv_options["credit_position"][0]),gv_options["credit_position"][1],gv_options["credit_position"][2]);}else{GV_Place_Control(_4,"gv_credit",G_ANCHOR_BOTTOM_RIGHT,6,20);}}function GV_Setup_Waypoint_Processing_Events(_11,_12){_11=(_11)?_11:"gmap";var map=eval(_11);if(!map){return false;}_12=(_12)?_12:"wpts";if(eval("self."+_12)){var _14=eval(_12);if(gv_filter_waypoints){GEvent.addListener(map,"moveend",function(){window.setTimeout("GV_Process_Waypoints("+_11+","+_12+")",50);});GEvent.addListener(map,"resize",function(){window.setTimeout("GV_Process_Waypoints("+_11+","+_12+")",50);});}if(gv_options["dynamic_marker_options"]&&gv_options["dynamic_marker_options"]["url"]){GEvent.addListener(map,"moveend",function(){window.setTimeout("GV_Get_Dynamic_Markers(gv_options)",50);});}if(gv_options["dynamic_data"]&&gv_options["dynamic_data"]["url"]&&gv_options["dynamic_data"]["reload_on_move"]){GEvent.addListener(map,"moveend",function(){window.setTimeout("GV_Reload_Markers_From_File()",50);});}GV_Process_Waypoints(map,_14);}}function GV_Process_Waypoints(map,_16){if(!_16){return false;}var _17=false;if(map.getInfoWindow()&&map.getInfoWindow().isHidden()===false){_17=true;}if(gv_filter_waypoints){GV_Filter_Waypoints_In_View(map,_16);}if(gv_marker_list_exists){GV_Marker_List();}if(self.gv_labels_are_visible&&gv_labels_are_visible&&self.gv_options&&gv_options["marker_array"]){GV_Toggle_All_Labels(gv_options["marker_array"],true);}if(gv_filter_waypoints&&self.gv_marker_filter_moved_enough&&gv_marker_filter_moved_enough===true&&_17&&self.gv_open_infowindow_index&&gv_open_infowindow_index!=null){GEvent.trigger(_16[gv_open_infowindow_index],"click");GEvent.trigger(_16[gv_open_infowindow_index],"mouseout");}}function GV_Finish_Map(_18){var _19=_18["map"]||"gmap";var map=eval(_19);if(!map){return false;}var _1b=_18["marker_array"]||"wpts";var _1c=_18["track_array"]||"trk";var _1d=_18["track_array"]||"trk";var _1e=_18["track_info_array"]||"trk_info";var _1f=eval("self."+_1d);if(gv_options["dynamic_data"]&&(gv_options["dynamic_data"]["url"]||gv_options["dynamic_data"]["google_spreadsheet"])&&!gv_options["dynamic_data"]["processed"]){GV_Load_Markers_From_File();return;}if(_18["zoom"]=="auto"||(!_18["zoom"]&&_18["zoom"]!="0")){GV_Autozoom({map:_19,adjustment:gv_options["autozoom_adjustment"]},eval("self."+_1d),eval("self."+_1b));_18["center"]=[map.getCenter().lat(),map.getCenter().lng()];map.setMapType(eval(_18["map_type"]));}gv_dynamic_data_last_center=map.getCenter();gv_dynamic_data_last_zoom=map.getZoom();if(eval("self."+_1e)&&_18["filter_tracks"]){GEvent.addListener(map,"moveend",function(){window.setTimeout("GV_Filter_Tracks("+_19+","+_1e+")",75);});}if(_18["full_screen"]){window.onresize=function(){GV_Fill_Window_With_Map(map.getContainer().id);map.checkResize();};window.setTimeout(_19+".checkResize(); "+_19+".setCenter(new GLatLng("+_18["center"][0]+","+_18["center"][1]+"));",100);}if(document.location.toString().match(/[&\\?](gv_force_[a-z]+)=([^&]+)/)){window.setTimeout("GV_Recenter_Per_URL({center_key:'gv_force_recenter',zoom_key:'gv_force_zoom',maptype_key:'gv_force_maptype'})",100);}if(!_1f||_1f.length==0){if(gv_options["tracklist_options"]&&gv_options["tracklist_options"]["tracklist"]&&document.getElementById("gv_tracklist_links")&&!document.getElementById("gv_tracklist_links").innerHTML.match(/\w/)){GV_Remove_Control("gv_tracklist_container");}}window.setTimeout("gv_hidden_crosshair_is_still_hidden = false;",150);window.setTimeout("GV_Setup_Waypoint_Processing_Events(\""+_19+"\",\""+_1b+"\")",200);}function GV_Autozoom(){var _20=arguments[0];arguments.shift;_20["map"]=_20["map"]||"gmap";_20["adjustment"]=(_20["adjustment"]&&parseInt(_20["adjustment"]))?parseInt(_20["adjustment"]):0;_20["margin"]=(_20["margin"]&&parseInt(_20["margin"]))?parseInt(_20["margin"]):0;_20["save_position"]=(_20["save_position"]===false||_20["save_position"]==0)?false:true;var map=eval(_20["map"]);if(!map){return false;}var _22=90;var _23=-90;var _24=360;var _25=-360;for(i=0;i<arguments.length;i++){if(arguments[i]){if(arguments[i].getLatLng){if(arguments[i].getLatLng().lng()<_24){_24=arguments[i].getLatLng().lng();}if(arguments[i].getLatLng().lng()>_25){_25=arguments[i].getLatLng().lng();}if(arguments[i].getLatLng().lat()<_22){_22=arguments[i].getLatLng().lat();}if(arguments[i].getLatLng().lat()>_23){_23=arguments[i].getLatLng().lat();}}else{if(typeof (arguments[i])=="object"&&arguments[i].length){if(arguments[i][0]&&arguments[i][0].getVertexCount){for(ts=0;ts<arguments[i].length;ts++){var _26=arguments[i][ts].getBounds();var w=_26.getSouthWest().lng();var s=_26.getSouthWest().lat();var e=_26.getNorthEast().lng();var n=_26.getNorthEast().lat();if(w<_24){_24=w;}if(e>_25){_25=e;}if(s<_22){_22=s;}if(n>_23){_23=n;}}}else{for(j=0;j<arguments[i].length;j++){if(arguments[i][j]){if(arguments[i][j][0]&&arguments[i][j][0].getVertexCount){for(ts=0;ts<arguments[i][j].length;ts++){var _2b=arguments[i][j][ts].getBounds();var w=_2b.getSouthWest().lng();var s=_2b.getSouthWest().lat();var e=_2b.getNorthEast().lng();var n=_2b.getNorthEast().lat();if(w<_24){_24=w;}if(e>_25){_25=e;}if(s<_22){_22=s;}if(n>_23){_23=n;}}}else{if(arguments[i][j].getLatLng){if(arguments[i][j].getLatLng().lng()<_24){_24=arguments[i][j].getLatLng().lng();}if(arguments[i][j].getLatLng().lng()>_25){_25=arguments[i][j].getLatLng().lng();}if(arguments[i][j].getLatLng().lat()<_22){_22=arguments[i][j].getLatLng().lat();}if(arguments[i][j].getLatLng().lat()>_23){_23=arguments[i][j].getLatLng().lat();}}}}}}}}}}if(_22!=90&&_23!=-90&&_24!=360&&_25!=-360){var _30=new GLatLngBounds(new GLatLng(_22,_24),new GLatLng(_23,_25));var _31=map.getBoundsZoomLevel(_30,new GSize(map.getSize().width-(_20["margin"]*2),map.getSize().height-(_20["margin"]*2)));if(_22==_23&&_24==_25){_31=8;}map.setCenter(_30.getCenter(),_31+_20["adjustment"]);if(_20["save_position"]){map.savePosition();}}}var gv_marker_count=0;var gv_global_window_width=(self.gv_options)?parseFloat(gv_options["info_window_width"]):0;var gv_global_thumbnail_width=(self.gv_options)?parseFloat(gv_options["thumbnail_width"]):0;function GV_Marker(map,_33,lon,_35,_36,url,_38,_39,_3a,_3b){var m={};if(_33["lat"]!=undefined||_33["address"]!=undefined){m=_33;if(m["style"]&&!m["icon"]){m["icon"]=m["style"];}}else{m["lat"]=_33;m["lon"]=lon;m["name"]=_35;m["desc"]=_36;m["url"]=url;m["color"]=_38;m["icon"]=_39;m["window_width"]=_3a;m["label_id"]=_3b;}if(m["address"]&&!m["lat"]){var _3d=new GClientGeocoder();_3d.getLatLng(m["address"],function(_3e){if(_3e){m["lat"]=_3e.lat();m["lon"]=_3e.lng();GV_Marker(map,m);}});return;}var _3f=new GIcon(defaultIcon);var _40=(m["scale"]>0&&(!self.gv_default_marker||(self.gv_default_marker&&gv_default_marker["scale"]!=m["scale"])))?true:false;var _41=(m["scale"]>0)?m["scale"]:(self.gv_default_marker&&gv_default_marker["scale"])?gv_default_marker["scale"]:1;if(m["opacity"]==100){m["opacity"]=1;}var _42=(m["opacity"]>0)?m["opacity"]:(self.gv_default_marker&&gv_default_marker["opacity"])?gv_default_marker["opacity"]:1;if(m["icon_url"]||(m["icon"]&&m["icon"].substring(0,7)=="http://")||(!m["icon"]&&gv_marker_icon.substring(0,7)=="http://")){_3f.image=(m["icon_url"])?m["icon_url"]:m["icon"]||gv_marker_icon;var _43=(self.gv_marker_icon_size&&gv_marker_icon_size[0])?gv_marker_icon_size[0]:32;var _44=(self.gv_marker_icon_size&&gv_marker_icon_size[1])?gv_marker_icon_size[1]:32;_3f.iconSize=(m["icon_size"]&&m["icon_size"][0]&&m["icon_size"][1])?new GSize(m["icon_size"][0]*_41,m["icon_size"][1]*_41):new GSize(_43*_41,_44*_41);var _45=(self.gv_marker_icon_anchor&&gv_marker_icon_anchor[0])?gv_marker_icon_anchor[0]:_3f.iconSize.width*0.5;var _46=(self.gv_marker_icon_anchor&&gv_marker_icon_anchor[1])?gv_marker_icon_anchor[1]:_3f.iconSize.height*0.5;_3f.iconAnchor=(m["icon_anchor"]&&m["icon_anchor"][0]!=null&&m["icon_anchor"][1]!=null)?new GPoint(m["icon_anchor"][0]*_41,m["icon_anchor"][1]*_41):new GPoint(_45,_46);_3f.infoWindowAnchor=new GPoint(_3f.iconSize.width*0.75,0);_3f.infoShadowAnchor=new GPoint(_3f.iconSize.width*0.5,_3f.iconSize.height);_3f.shadow=null;_3f.shadowSize=null;_3f.transparent=null;_3f.imageMap=null;}else{if(m["icon"]||m["color"]||m["letter"]||m["rotation"]!=undefined||_40||_42!=1){var _47=(m["icon"]&&gv_icons[m["icon"]])?m["icon"]:gv_marker_icon;var _48=(m["color"])?m["color"].toLowerCase():gv_marker_color.toLowerCase();if(_48.substring(0,1)=="#"){_48=_48.replace(/^\#/,"");}var _49=(m["rotation"]!=undefined)?"-r"+(1000+(5*Math.round(((m["rotation"]+360)%360)/5))).toString().substring(1,4):"";var _4a=(gv_icons[_47]["directory"])?gv_icons[_47]["directory"]:gv_icon_directory+_47;if(m["icon"]||_40){_3f.iconSize=new GSize(gv_icons[_47]["is"][0]*_41,gv_icons[_47]["is"][1]*_41);_3f.iconAnchor=new GPoint(gv_icons[_47]["ia"][0]*_41,gv_icons[_47]["ia"][1]*_41);_3f.shadow=(gv_icons[_47]["ss"]&&gv_icons[_47]["ss"][0])?_4a+"/shadow.png":null;_3f.shadowSize=(gv_icons[_47]["ss"]&&gv_icons[_47]["ss"][0])?new GSize(gv_icons[_47]["ss"][0]*_41,gv_icons[_47]["ss"][1]*_41):null;_3f.infoWindowAnchor=(gv_icons[_47]["iwa"]&&gv_icons[_47]["iwa"][0])?new GPoint(gv_icons[_47]["iwa"][0]*_41,gv_icons[_47]["iwa"][1]*_41):null;_3f.infoShadowAnchor=(gv_icons[_47]["isa"]&&gv_icons[_47]["isa"][0])?new GPoint(gv_icons[_47]["isa"][0]*_41,gv_icons[_47]["isa"][1]*_41):null;if(_40){_3f.imageMap=[];for(j=0;j<gv_icons[_47]["im"].length;j++){_3f.imageMap[j]=gv_icons[_47]["im"][j]*_41;}}else{_3f.imageMap=gv_icons[_47]["im"];}}var op="";if(_42!=1){op=(_42<1)?"-"+Math.round(_42*100):"-"+Math.round(_42);_3f.shadow=null;_3f.shadowSize=null;}_3f.image=_4a+"/"+_48.toLowerCase()+_49+op+".png";if(m["letter"]&&gv_icons[_47]["letters"]){_3f.transparent=_4a+"/transparent-"+m["letter"].toUpperCase()+".png";}else{_3f.transparent=_4a+"/"+_48.toLowerCase()+_49+"-t.png";}}}if(document.location.toString().indexOf("moveon.org")>-1){var _4c=(m["color"])?m["color"].toLowerCase():gv_marker_color.toLowerCase();_3f.image="http://labs.google.com/ridefinder/images/mm_20_"+_4c+".png";_3f.shadow="http://labs.google.com/ridefinder/images/mm_20_shadow.png";_3f.transparent=null;}var _4d=(google_api_version>=2)?new GMarker(new GLatLng(m["lat"],m["lon"]),{icon:_3f,draggable:false}):new GMarker(new GPoint(m["lon"],m["lat"]),_3f);gv_marker_count+=1;var _4e="";if(m["name"]){if(m["url"]&&m["url"]!=null){_4e=_4e+"<div class=\"gv_wpt_name\"><b><a target=\""+gv_marker_link_target+"\" href=\""+m["url"]+"\" title=\""+m.url+"\">"+m["name"]+"</a></b></div>";}else{_4e=_4e+"<div class=\"gv_wpt_name\"><b>"+m["name"]+"</b></div>";}}if(m["thumbnail"]&&!m["photo"]){var _4f=(m["thumbnail_width"])?" style=\"width:"+parseFloat(m["thumbnail_width"])+"px;\"":(gv_global_thumbnail_width>0)?" style=\"width:"+gv_global_thumbnail_width+"px;\"":"";var _50="<img class=\"gv_wpt_thumbnail\" src=\""+m["thumbnail"]+"\""+_4f+">";if(m["url"]){_50="<a target=\""+gv_marker_link_target+"\" href=\""+m["url"]+"\">"+_50+"</A>";}_4e=_4e+_50;}else{if(m["photo"]){_4e=_4e+"<div><img class=\"gv_wpt_photo\" src=\""+m["photo"]+"\"></div>";}}if(m["desc"]){_4e=_4e+"<div class=\"gv_wpt_desc\">"+m["desc"]+"</div>";}if(m["dd"]||(gv_driving_directions&&m["dd"]!==false)){_4e=_4e+"<table class=\"gv_driving_directions\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tr><td><form action=\"http://maps.google.com/maps\" target=\"_blank\" style=\"margin:0px;\">";_4e=_4e+"<input type=\"hidden\" name=\"daddr\" value=\""+(m["dd_lat"]||m["lat"])+","+(m["dd_lon"]||m["lon"])+" ("+m["name"].replace(/<[^>]*>/g,"").replace(/\(/g,"[").replace(/\)/g,"]").replace(/"/g,"&quot;")+")"+"\">";_4e=_4e+"<p class=\"gv_driving_directions_heading\" style=\"margin:2px 0px 4px 0px; white-space:nowrap\">Driving directions to this point</p>";_4e=_4e+"<p style=\"margin:0px; white-space:nowrap;\">Enter your starting address:<br><input type=\"text\" size=\"20\" name=\"saddr\" value=\"\">&nbsp;<input type=\"submit\" value=\"Go\"></p>";_4e=_4e+"</td></tr></table>";}if(self.gv_marker_list_options&&gv_marker_list_options["folder_field"]&&m[gv_marker_list_options["folder_field"]]){m["folder"]=m[gv_marker_list_options["folder_field"]];}var _51=0;var _52=(google_api_version>=2)?map.getSize().width-100:500;var _53=parseFloat(m["window_width"]);if(_53>0&&_53<_52){_51=_53;}else{if(gv_global_window_width>0&&gv_global_window_width<_52){_51=gv_global_window_width;}}if(_51>0&&_51<200){_51=200;}var _54=(_51>0)?"width:"+_51+"px;":"";var _55="<div style=\"text-align:left; "+_54+"\" class=\"gv_wpt\">"+_4e+"</div>";if(_4e){GEvent.addListener(_4d,"click",function(){_4d.openInfoWindowHtml(_55,{maxWidth:_52});gv_open_infowindow_index=_4d.index;});}var _56=false;if(gv_filter_waypoints){var _57=map.getBounds().getSouthWest().lat();var _58=map.getBounds().getSouthWest().lng();var _59=map.getBounds().getNorthEast().lat();var _5a=map.getBounds().getNorthEast().lng();if(_5a<_58){_58=-180;_5a=180;}if(m["lon"]<_58||m["lon"]>_5a||m["lat"]<_57||m["lat"]>_59){_56=true;}}if(m["label"]||m["label_id"]){var _5b=(m["label"])?m["label"]:m["name"];var _5c=(m["label_id"])?m["label_id"]:gv_marker_array_name+"_label["+(gv_marker_count-1)+"]";var _5d=(self.gv_hide_labels&&gv_hide_labels)?true:false;var _5e=gv_label_offset_x;var _5f=gv_label_offset_y;var _60=gv_label_centered;if(m["label_offset"]&&m["label_offset"].length>1){_5e=m["label_offset"][0];_5f=m["label_offset"][1];}if((m["label_centered"]==true&&!_60)||(m["label_centered"]==false&&_60)){_60=m["label_centered"];}var _61=new ELabel(new GLatLng(m["lat"],m["lon"]),_5b,"gv_label",new GSize(_3f.iconSize.width/2+1+_5e,8+_5f),100,false,_5c,_5d,_60);map.addOverlay(_61);_4d.label_object=_61;}if(m["name"]||m["thumbnail"]){if(google_api_version>=2){if(!document.getElementById("gv_tooltip")){tooltip=GV_Initialize_Marker_Tooltip(map);}var _62=m["name"]+" ";if(m["thumbnail"]){var _63=(m["thumbnail_width"])?" style=\"width:"+parseFloat(m["thumbnail_width"])+"px;\"":(gv_global_thumbnail_width>0)?" style=\"width:"+gv_global_thumbnail_width+"px;\"":"";_62=_62+"<img class=\"gv_wpt_thumbnail\" src=\""+m["thumbnail"]+"\""+_63+">";}if(m["photo"]){_62=_62+"<img class=\"gv_wpt_photo\" src=\""+m["photo"]+"\">";}_4d.tooltip="<div class=\"gv_tooltip\">"+_62+"</div>";GEvent.addListener(_4d,"mouseover",function(){GV_Create_Marker_Tooltip(map,_4d);});GEvent.addListener(_4d,"mouseout",function(){tooltip.style.visibility="hidden";});}else{var _64=_4d.images[0];if(_4d.iconImage){_64=_4d.iconImage;}if(_4d.transparentIcon){_64=_4d.transparentIcon;}if(_4d.imageMap){_64=_4d.imageMap;}_64.setAttribute("title",m["name"]);}}if(google_api_version>=2){_4d.index=gv_marker_count-1;_4d.name=(m["name"])?m["name"]:"[unnamed]";_4d.desc=(m["desc"])?m["desc"]:"";_4d.url=(m["url"])?m["url"]:"";_4d.shortdesc=(m["shortdesc"])?m["shortdesc"]:"";_4d.html=_55;_4d.window_width=(m["window_width"])?m["window_width"]:"";_4d.color=(m["color"])?m["color"].toLowerCase():gv_marker_color.toLowerCase();_4d.width=_3f.iconSize.width;_4d.height=_3f.iconSize.height;_4d.image=_3f.image;_4d.coords=new GLatLng(m["lat"],m["lon"]);_4d.thumbnail=(m["thumbnail"])?m["thumbnail"]:"";_4d.thumbnail_width=(m["thumbnail_width"])?m["thumbnail_width"]:"";_4d.type=(m["type"])?m["type"]:"";_4d.zoom_level=(m["zoom_level"])?m["zoom_level"]:"";_4d.folder=(m["folder"])?m["folder"]:"";if(gv_marker_list_exists&&(m["type"]!="tickmark"||gv_marker_list_options["include_tickmarks"])&&(m["type"]!="trackpoint"||gv_marker_list_options["include_trackpoints"])&&!m["nolist"]){_4d.list_html=GV_Marker_List_Item(_4d,gv_marker_list_map_name,gv_marker_array_name+"["+(gv_marker_count-1)+"]");if(!gv_filter_marker_list||!_56){if(gv_marker_list_options["limit"]&&gv_marker_list_options["limit"]>0&&gv_marker_list_count>=gv_marker_list_options["limit"]){}else{if(_4d.list_html!="undefined"){if(m["folder"]){gv_marker_list_folders[m["folder"]]=(gv_marker_list_folders[m["folder"]])?gv_marker_list_folders[m["folder"]]+_4d.list_html:_4d.list_html;}else{gv_marker_list_html+=_4d.list_html;}gv_marker_list_count+=1;}}}}}if(!gv_filter_waypoints){map.addOverlay(_4d);}return _4d;}function GV_Initialize_Marker_Tooltip(map){var tt=document.createElement("div");tt.id="gv_tooltip";tt.style.visibility="hidden";map.getPane(G_MAP_FLOAT_PANE).appendChild(tt);return (tt);}function GV_Create_Marker_Tooltip(map,_68){tooltip.innerHTML=_68.tooltip;var _69=map.getCurrentMapType().getProjection().fromLatLngToPixel(map.fromDivPixelToLatLng(new GPoint(0,0),true),map.getZoom());var _6a=map.getCurrentMapType().getProjection().fromLatLngToPixel(_68.getPoint(),map.getZoom());var _6b=_68.getIcon().iconAnchor;var _6c=_68.getIcon().iconSize.width;var _6d=tooltip.clientHeight;_6a.x+=-1;_6a.y+=4;_6d=18;var pos=new GControlPosition(G_ANCHOR_TOP_LEFT,new GSize(_6a.x-_69.x-_6b.x+_6c,_6a.y-_69.y-_6b.y-_6d));pos.apply(tooltip);tooltip.style.visibility="visible";}function GV_Marker_List(){if(gv_marker_list_exists){var _6f=(gv_marker_list_options["header"])?gv_marker_list_options["header"]:"";var _70=(gv_marker_list_options["footer"])?gv_marker_list_options["footer"]:"";var _71=(gv_marker_list_options["dividers"])?"<div class=\"gv_marker_list_border_top\"></div>":"";var _72="";gv_marker_list_folder_state=[];if(self.gv_marker_list_folders){var _73=0;var _74="http://maps.gpsvisualizer.com/google_maps/minus.gif";var _75="http://maps.gpsvisualizer.com/google_maps/plus.gif";var _76="http://maps.gpsvisualizer.com/google_maps/folder_triangle_open.gif";var _77="http://maps.gpsvisualizer.com/google_maps/folder_triangle_closed.gif";var _78=_76;var _79=_77;var _7a="show/hide this folder's markers";var _7b="open/close this folder";var _7c=(gv_marker_list_options["folders_collapsed"])?true:false;var _7d=(_7c)?_79:_78;var _7e=(_7c)?"none":"block";for(var _7f in gv_marker_list_folders){_73+=1;gv_marker_list_folder_state[_73]={collapsed:_7c,hidden:false};var _80="if(gv_marker_list_folder_state["+_73+"].collapsed)";_80+=" { document.getElementById('folder_collapse_"+_73+"').src='"+_78+"'; document.getElementById('folder_contents_"+_73+"').style.display='block'; gv_marker_list_folder_state["+_73+"].collapsed = false; }";_80+=" else { document.getElementById('folder_collapse_"+_73+"').src='"+_79+"'; document.getElementById('folder_contents_"+_73+"').style.display='none'; gv_marker_list_folder_state["+_73+"].collapsed = true; }";var _81="if(gv_marker_list_folder_state["+_73+"].hidden)";_81+=" { document.getElementById('folder_checkbox_"+_73+"').checked = true; GV_Adjust_Opacity('folder_contents_"+_73+"',100); GV_Adjust_Opacity('folder_name_"+_73+"',100); GV_Toggle_Waypoints_With_Text({show:true,field:'folder',pattern:'^"+_7f.replace(/'/g,"\\'")+"$'}); gv_marker_list_folder_state["+_73+"].hidden = false; }";_81+="else { document.getElementById('folder_checkbox_"+_73+"').checked = false; GV_Adjust_Opacity('folder_contents_"+_73+"',30); GV_Adjust_Opacity('folder_name_"+_73+"',40); GV_Toggle_Waypoints_With_Text({show:false,field:'folder',pattern:'^"+_7f.replace(/'/g,"\\'")+"$'}); gv_marker_list_folder_state["+_73+"].hidden = true; }";var _82="checked";var _83="<div class=\"gv_marker_list_folder\" id=\"folder_"+_73+"\">";_83+="<div class=\"gv_marker_list_folder_name\"><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\"><tr valign=\"top\">";_83+="<td align=\"left\" nowrap><img src=\""+_7d+"\" width=\"11\" height=\"11\" hspace=\"2\" vspace=\"0\" id=\"folder_collapse_"+_73+"\" style=\"cursor:pointer\" title=\""+_7b+"\" onclick=\""+_80+"\"></td>";_83+="<td align=\"left\"><input type=\"checkbox\" id=\"folder_checkbox_"+_73+"\" class=\"gv_marker_list_folder_checkbox\" style=\"width:12px; height:12px; padding:0px; margin:0px 2px 0px 0px;\" "+_82+" title=\""+_7a+"\" onclick=\""+_81+"\"></td>";_83+="<td width=\"99%\" align=\"left\"><div id=\"folder_name_"+_73+"\" title=\""+_7a+"\" onclick=\""+_81+"\" style=\"cursor:pointer; max-width:100%;\">"+_7f+"</div></td>";if(gv_marker_list_options["folder_visibility_links"]&&1==2){_83+="<td align=\"right\" nowrap><img src=\""+eye_visible+"\" width=\"9\" height=\"9\" hspace=\"2\" vspace=\"2\" id=\"folder_toggle_graphic_"+_73+"\" style=\"cursor:pointer\" title=\""+_7a+"\" onclick=\""+toggle_graphic_onclick+"\"></td>";}_83+="</tr></table></div>";_83+="<div class=\"gv_marker_list_folder_contents\" id=\"folder_contents_"+_73+"\" style=\"display:"+_7e+"; max-width:100%;\">"+gv_marker_list_folders[_7f]+"</div>";_83+="</div>";_72=_72+_83;}}_71=(!gv_marker_list_html)?"":_71;gv_marker_list_div.innerHTML=_6f+_71+_72+gv_marker_list_html+_70;gv_marker_list_count=0;}if(document.getElementById(gv_marker_list_div_name+"_handle")&&document.getElementById(gv_marker_list_div_name+"_table")){if(!document.getElementById(gv_marker_list_div_name+"_handle").root){Drag.init(document.getElementById(gv_marker_list_div_name+"_handle"),document.getElementById(gv_marker_list_div_name+"_table"));}}}function GV_Marker_List_Item(m,_85,_86){var _87=(gv_marker_list_options["default_color"])?gv_marker_list_options["default_color"]:"";var _88=(gv_marker_list_options["colors"])?m.color:_87;var _89=(_88)?"color:"+_88:"";var _8a="";var _8b=(gv_marker_list_options["center"])?_85+".setCenter("+_86+".coords); ":"";var _8c="";if(gv_marker_list_options["zoom"]&&(gv_marker_list_options["zoom_level"]||m.zoom_level)){var _8d=(m.zoom_level)?parseFloat(m.zoom_level):parseFloat(gv_marker_list_options["zoom_level"]);_8c=_85+".setZoom("+_8d+"); ";}else{if(gv_marker_list_options["zoom"]){_8c=_85+".zoomIn(); ";}}var _8e=(gv_marker_list_options["center"]&&document.getElementById("gv_crosshair"))?"document.getElementById('gv_crosshair').style.display = 'none'; gv_crosshair_temporarily_hidden = true;":"";var _8f=(gv_marker_list_options["toggle"])?"GV_Toggle_Marker("+_85+","+_86+",this,'"+_88+"');":"";var _90=(gv_marker_list_options["info_window"]&&!gv_marker_list_options["toggle"])?"GEvent.trigger("+_86+",'click'); ":"";var _91=(gv_marker_list_options["info_window"])?"GEvent.trigger("+_86+",'click'); ":"";var _92=(m.tooltip)?"onMouseOver=\"GV_Create_Marker_Tooltip("+_85+","+_86+");\" ":"";var _93=(m.tooltip)?"onMouseOut=\"tooltip.style.visibility = 'hidden';\" ":"";var _94=_8a+_8f+_8c+_8b+_8e+_90;var _95=_8a+_8c+_8b+_8e+_91;var _96="";var _97="";if(gv_marker_list_options["help_tooltips"]){_96="Click to ";_97="Click to ";if(_8b){_96+="center + ";_97+="center + ";}if(_8c){_96+="zoom in + ";_97+="zoom in + ";}if(_8f){_96+="hide/show the marker + ";}if(gv_marker_list_options["url_links"]&&m.url){_96+="open the marker's link + ";}if(_90){_96+="open the info window";}if(_91){_97+="open the info window";}_96=_96.replace(/(Click to |, | \+ )$/,"");_97=_97.replace(/(Click to |, | \+ )$/,"");}var _98="";if(m.thumbnail){var _99=(gv_marker_list_options["thumbnails"])?"display:block; ":"";var _9a=(m.thumbnail_width)?"width:"+m.thumbnail_width+"px; ":"";_98="<div class=\"gv_marker_list_thumbnail\" style=\""+_99+"\"><img class=\"gv_wpt_thumbnail\" src=\""+m.thumbnail+"\" style=\""+_9a+_99+"\"></div>";}var _9b="";var _9c="";var _9d="";var _9e="";var _9f=4;if(!gv_marker_list_options["wrap_names"]){_9b="white-space:nowrap; ";_9c="nowrap";}if(1==2&&gv_marker_list_options["wrap_names"]&&gv_marker_list_options["icons"]){indent_style="margin-left:"+(m.width+_9f)+"px; text-indent:-"+(m.width+_9f)+"px ";}var _a0="width:"+m.width+"px; height:"+m.height+"px";var _a1=(gv_marker_list_options["icons"])?"<img title=\""+_97+"\" class=\"icon\" "+_92+_93+"onClick=\""+_95+"\" style=\""+_a0+"\" src=\""+m.image+"\" alt=\"\">":"";var _a2="<span title=\""+_96+"\" "+_92+_93+"onClick=\""+_94+"\" class=\"name\" style=\"cursor:crosshair; "+_89+";\">"+m.name+_98+"<"+"/span>";_a2=(gv_marker_list_options["url_links"]&&m.url)?"<a target=\""+gv_marker_link_target+"\" href=\""+m.url+"\" title=\""+m.url+"\">"+_a2+"</a>":_a2;var d=(m.shortdesc)?m.shortdesc:m.desc;var _a4=(gv_marker_list_options["desc"]&&d)?"<div style=\"clear:both;\"><span class=\"desc\" style=\""+_89+"\">"+d+"<"+"/span>"+"<"+"/div>":"";var _a5=(gv_marker_count!=1)?"":" gv_marker_list_first_item";var _a6=(gv_marker_list_options["dividers"])?"gv_marker_list_border_bottom":"";var _a7="<div id=\"gv_list:"+_86+"\" class=\"gv_marker_list_item"+_a5+"\"><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tr valign=\"top\" align=\"left\"><td>"+_a1+"</td><td style=\""+_9b+"\" "+_9c+">"+_a2+_a4+"</td></tr></table></div><div class=\"gv_marker_list_item_bottom "+_a6+"\" style=\"clear:both;\"></div>"+"\n";return (_a7);}function GV_Toggle_Marker(map,_a9,_aa,_ab,_ac){if(_a9.gv_hidden){map.addOverlay(_a9);_a9.gv_hidden=false;}else{map.removeOverlay(_a9);_a9.gv_hidden=true;}if(_ab&&_aa.style.color){_ab=Color_Hex2CSS(_ab);_ac=(_ac)?Color_Hex2CSS(_ac):Color_Hex2CSS("#999999");if(_a9.gv_hidden){_aa.style.color=_ac;}else{_aa.style.color=_ab;}}}function GV_Toggle_All_Labels(_ad,_ae){var _af;if(_ae||(self.gv_hide_labels&&gv_hide_labels==true)){_af="visible";gv_labels_are_visible=true;gv_hide_labels=false;}else{_af="hidden";gv_labels_are_visible=false;gv_hide_labels=true;}if(eval("self."+_ad)){var _b0=eval(_ad);if(_b0&&_b0.length>0){for(i=0;i<_b0.length;i++){var _b1=_ad+"_label["+i+"]";if(document.getElementById(_b1)){document.getElementById(_b1).parentNode.style.visibility=_af;}}}}}function GV_Toggle_Track_And_Label(map,id,_b4){if(!_b4){_b4=id;id=map;map=gmap;}GV_Toggle_Overlays(map,eval(id));GV_Toggle_Label_Opacity(document.getElementById(id+"_label"),_b4);}function GV_Toggle_Overlays(map,_b6){if(google_api_version>=2){if(_b6.gv_hidden){if(!_b6.gv_oor){for(j=0;j<_b6.length;j++){map.addOverlay(_b6[j]);if(_b6[j].label_object){map.addOverlay(_b6[j].label_object);}}}_b6.gv_hidden=false;}else{for(j=0;j<_b6.length;j++){map.removeOverlay(_b6[j]);if(_b6[j].label_object){map.removeOverlay(_b6[j].label_object);}}_b6.gv_hidden=true;}}else{for(j=0;j<_b6.length;j++){var _b7=_b6[j];if(eval(_b7.drawElement)){if(_b7.drawElement.style.display=="none"){_b7.drawElement.style.display="";}else{_b7.drawElement.style.display="none";}}else{if(eval(_b7.images)){for(var i=0;i<_b7.images.length;i++){if(_b7.images[i].style.display=="none"){_b7.images[i].style.display="";}else{_b7.images[i].style.display="none";}}}}}}}function GV_Toggle_Label_Opacity(_b9,_ba){_ba=Color_Hex2CSS(_ba);current_color=Color_Hex2CSS(_b9.style.color);dimmed_color=Color_Hex2CSS("#aaaaaa");if(_b9.gv_hidden){_b9.gv_hidden=false;_b9.style.color=_ba;}else{_b9.gv_hidden=true;_b9.style.color=dimmed_color;}}function GV_Toggle(id){if(document.getElementById(id).style.display=="none"){document.getElementById(id).style.display="";}else{document.getElementById(id).style.display="none";}}function GV_Windowshade_Setup(_bc,_bd){if(document.getElementById(_bc)&&document.getElementById(_bd)){GEvent.addDomListener(document.getElementById(_bc),"dblclick",function(){if(document.getElementById(_bd).style.visibility=="hidden"){document.getElementById(_bd).style.visibility="visible";document.getElementById(_bd).style.display="block";}else{document.getElementById(_bc).style.width=(document.getElementById(_bd).parentNode.clientWidth-2)+"px";document.getElementById(_bd).style.visibility="hidden";document.getElementById(_bd).style.display="none";}});}}function GV_Filter_Tracks(map,_bf){if(_bf==null||_bf==undefined||typeof (_bf)!="object"){return false;}var _c0=(self.gv_options&&gv_options["track_array"]&&eval("self."+gv_options["track_array"]))?gv_options["track_array"]:"trk";var _c1=map.getBounds().getSouthWest().lat();var _c2=map.getBounds().getSouthWest().lng();var _c3=map.getBounds().getNorthEast().lat();var _c4=map.getBounds().getNorthEast().lng();if(_c4<_c2){_c2=-180;_c4=180;}if(_bf[1]){for(var t in _bf){if(_bf[t]["bounds"]["e"]<_c2||_bf[t]["bounds"]["w"]>_c4||_bf[t]["bounds"]["n"]<_c1||_bf[t]["bounds"]["s"]>_c3){GV_Track_OutOfRange(map,eval(_c0+"['"+t+"']"),true);}else{GV_Track_OutOfRange(map,eval(_c0+"['"+t+"']"),false);}}}else{for(var t in _bf){if(_bf[t]["e"]<_c2||_bf[t]["w"]>_c4||_bf[t]["n"]<_c1||_bf[t]["s"]>_c3){GV_Track_OutOfRange(map,eval(t),true);}else{GV_Track_OutOfRange(map,eval(t),false);}}}}function GV_Track_OutOfRange(map,_c8,_c9){if(_c9){if(!_c8.gv_hidden){for(j=0;j<_c8.length;j++){map.removeOverlay(_c8[j]);}}_c8.gv_oor=true;}else{if(_c8.gv_oor){if(!_c8.gv_hidden){for(j=0;j<_c8.length;j++){map.addOverlay(_c8[j]);}}}_c8.gv_oor=false;}}function GV_Filter_Waypoints_With_Text(_ca){if(!_ca){_ca={};}var _cb=_ca["map"]||"gmap";var map=eval(_cb);if(!map){return false;}var _cd=_ca["marker_array"]||"wpts";var _ce=eval(_cd);if(!_ce){return false;}var _cf=_ca["pattern"]||"";var _d0=new RegExp(_cf,"i");var _d1=_ca["field"]||"namedesc";if(_d1.indexOf("lat")==0){_d1="latitude";}else{if(_d1.indexOf("lon")==0||_d1.indexOf("lng")==0){_d1="longitude";}else{if(_d1.indexOf("desc")==0){_d1="desc";}}}var _d2=(gv_marker_filter_options["update_list"])?true:false;var _d3=(gv_marker_filter_options["sort_list_by_distance"])?true:false;var _d4=(gv_marker_filter_options["limit"]>0)?gv_marker_filter_options["limit"]:0;if(gv_marker_list_exists&&_d2){gv_marker_list_html="";gv_marker_list_folders=[];gv_marker_list_count=0;}var _d5=[];var _d6=false;if(map.getInfoWindow()&&map.getInfoWindow().isHidden()===false){_d6=true;}for(j=0;j<_ce.length;j++){var w=_ce[j];map.removeOverlay(w);if(w.label_object){map.removeOverlay(w.label_object);}var _d8="";if(_d1=="latitude"){_d8=w.coords.lat().toString();}else{if(_d1=="longitude"){_d8=w.coords.lng().toString();}else{if(_d1=="coords"){_d8=w.coords.toString();}else{if(_d1=="namedesc"){_d8=w.name+"\t"+w.desc;}else{if(w[_d1]){_d8=w[_d1];}}}}}if((_cf==""||_d8.match(_d0))&&!w.gv_hidden&&!w.gv_oor){if(_d4>0||_d3){w.dist_from_center=map.getCenter().distanceFrom(w.coords);var key=(w.dist_from_center/10000000).toFixed(8);_d5.push(key+" "+j);}else{_d5.push(j);}}else{if(_d6&&self.gv_open_infowindow_index&&gv_open_infowindow_index==j){_d6=false;}}}if(_d4>0||(_d3&&_d2)){_d5=_d5.sort();if(_d4>0&&_d4<_d5.length){_d5.length=_d4;}for(j=0;j<_d5.length;j++){var _da=_d5[j].split(" ");_d5[j]=parseInt(_da[1]);}if(!_d3){_d5=_d5.sort(function(a,b){return (a-b);});}}for(j=0;j<_d5.length;j++){var w=_ce[_d5[j]];if(!w.gv_hidden){map.addOverlay(w);if(w.label_object){map.addOverlay(w.label_object);}}if(gv_marker_list_exists&&_d2&&(w.type!="tickmark"||gv_marker_list_options["include_tickmarks"])&&(w.type!="trackpoint"||gv_marker_list_options["include_trackpoints"])&&!w.nolist){if(w.list_html!="undefined"){if(w.folder){gv_marker_list_folders[w.folder]=(gv_marker_list_folders[w.folder])?gv_marker_list_folders[w.folder]+w.list_html:w.list_html;}else{gv_marker_list_html+=w.list_html;}gv_marker_list_count+=1;}}}if(gv_marker_list_exists){GV_Marker_List();}if(self.gv_labels_are_visible&&gv_labels_are_visible&&self.gv_options&&gv_options["marker_array"]){GV_Toggle_All_Labels(gv_options["marker_array"],true);}if(_d6&&gv_open_infowindow_index!=null){GEvent.trigger(_ce[gv_open_infowindow_index],"click");GEvent.trigger(_ce[gv_open_infowindow_index],"mouseout");}}function GV_Toggle_Waypoints_With_Text(_de){if(!_de){_de={};}var _df=_de["map"]||"gmap";var map=eval(_df);if(!map){return false;}var _e1=_de["marker_array"]||"wpts";var _e2=eval(_e1);if(!_e2){return false;}var _e3=_de["pattern"]||"";var _e4=new RegExp(_e3,"i");var _e5=_de["field"]||"namedesc";if(_e5.indexOf("lat")==0){_e5="latitude";}else{if(_e5.indexOf("lon")==0||_e5.indexOf("lng")==0){_e5="longitude";}else{if(_e5.indexOf("desc")==0){_e5="desc";}}}var _e6=(_de["show"]===false)?false:true;var _e7=[];for(j=0;j<_e2.length;j++){var w=_e2[j];var _e9="";if(_e5=="latitude"){_e9=w.coords.lat().toString();}else{if(_e5=="longitude"){_e9=w.coords.lng().toString();}else{if(_e5=="coords"){_e9=w.coords.toString();}else{if(_e5=="namedesc"){_e9=w.name+"\t"+w.desc;}else{if(w[_e5]){_e9=w[_e5];}}}}}if(_e3==""||_e9.match(_e4)){map.removeOverlay(w);if(w.label_object){map.removeOverlay(w.label_object);}_e7.push(j);}}for(j=0;j<_e7.length;j++){var w=_e2[_e7[j]];if(_e6&&!w.gv_hidden&&!w.gv_oor){map.addOverlay(w);if(w.label_object){map.addOverlay(w.label_object);}}else{map.removeOverlay(w);if(w.label_object){map.removeOverlay(w.label_object);}}}if(self.gv_labels_are_visible&&gv_labels_are_visible&&self.gv_options&&gv_options["marker_array"]){GV_Toggle_All_Labels(gv_options["marker_array"],true);}}function GV_Filter_Waypoints_In_View(map,_ec){var _ed=(gv_marker_filter_options["limit"]>0)?gv_marker_filter_options["limit"]:0;var _ee=(gv_marker_filter_options["update_list"])?true:false;var _ef=(gv_marker_filter_options["sort_list_by_distance"])?true:false;var _f0=map.getBounds().getSouthWest().lat();var _f1=map.getBounds().getSouthWest().lng();var _f2=map.getBounds().getNorthEast().lat();var _f3=map.getBounds().getNorthEast().lng();var _f4=map.getCenter();var _f5=map.getZoom();gv_marker_filter_moved_enough=true;if(gv_marker_filter_options["movement_threshold"]&&self.gv_marker_filter_last_position){var _f6=map.getCenter().distanceFrom(new GLatLng(map.getCenter().lat(),map.getBounds().getNorthEast().lng()))*2;var _f7=_f4.distanceFrom(gv_marker_filter_last_position);var _f8=_f7/_f6;var _f9=map.getContainer().clientWidth*_f8;if(gv_marker_filter_options["movement_threshold"]){if(_f5!=gv_marker_filter_last_zoom){gv_marker_filter_moved_enough=true;}else{if(_f9<parseFloat(gv_marker_filter_options["movement_threshold"])){gv_marker_filter_moved_enough=false;}}}}if(gv_marker_filter_moved_enough){if(_f3<_f1){_f1=-180;_f3=180;}if(gv_marker_list_exists&&_ee){gv_marker_list_html="";gv_marker_list_folders=[];gv_marker_list_count=0;}var _fa=(gv_marker_filter_options["min_zoom"]&&gv_marker_filter_options["min_zoom"]>0)?gv_marker_filter_options["min_zoom"]:0;var _fb=(map.getZoom()>=_fa)?false:true;var _fc=[];for(j=0;j<_ec.length;j++){var w=_ec[j];map.removeOverlay(w);if(w.label_object){map.removeOverlay(w.label_object);w.gv_oor=true;}if(_fb){}else{if(w.coords.lng()<_f1||w.coords.lng()>_f3||w.coords.lat()<_f0||w.coords.lat()>_f2){}else{if(!_ed&&!_ee){_fc.push(j);}else{if(_ed>0||_ef){w.dist_from_center=map.getCenter().distanceFrom(w.coords);var key=(w.dist_from_center/10000000).toFixed(8);_fc.push(key+" "+j);}else{_fc.push(j);}}}}}if(_fb){if(map.getZoom()<_fa){if(gv_marker_list_options["zoom_message"]&&gv_marker_list_options["zoom_message"]!=""){gv_marker_list_html=gv_marker_list_options["zoom_message"];}else{if(gv_marker_filter_options["zoom_message"]&&gv_marker_filter_options["zoom_message"]!=""){gv_marker_list_html=gv_marker_filter_options["zoom_message"];}else{gv_marker_list_html="<p>Zoom in further to see markers.</p>";}}}}else{if(_ed>0||(_ef&&_ee)){_fc=_fc.sort();if(_ed>0&&_ed<_fc.length){_fc.length=_ed;}for(j=0;j<_fc.length;j++){var _ff=_fc[j].split(" ");_fc[j]=parseInt(_ff[1]);}if(!_ef){_fc=_fc.sort(function(a,b){return (a-b);});}}for(j=0;j<_fc.length;j++){var w=_ec[_fc[j]];if(!w.gv_hidden){map.addOverlay(w);w.gv_oor=false;if(w.label_object){map.addOverlay(w.label_object);}}if(gv_marker_list_exists&&_ee&&(w.type!="tickmark"||gv_marker_list_options["include_tickmarks"])&&(w.type!="trackpoint"||gv_marker_list_options["include_trackpoints"])&&!w.nolist){if(_ed>0&&gv_marker_list_count>=_ed){}else{if(w.list_html!="undefined"){if(w.folder){gv_marker_list_folders[w.folder]=(gv_marker_list_folders[w.folder])?gv_marker_list_folders[w.folder]+w.list_html:w.list_html;}else{gv_marker_list_html+=w.list_html;}gv_marker_list_count+=1;}}}}}gv_marker_filter_last_position=map.getCenter();gv_marker_filter_last_zoom=map.getZoom();}}function GV_Filter_Waypoints(map,_104){GV_Process_Waypoints(map,_104);}function GV_Recenter_Per_URL(opts){var _106=null;var _107=null;var _108=false;var map=(opts&&opts["map"]&&eval("self."+opts["map"]))?eval(opts["map"]):null;if(map==null){if(self.gmap){map=gmap;}else{return false;}}var _10a=(opts&&opts["center_key"])?opts["center_key"]:"center";var _10b=(opts&&opts["zoom_key"])?opts["zoom_key"]:"zoom";var _10c=(opts&&opts["default_zoom"])?opts["default_zoom"]:null;var _10d=(opts&&opts["maptype_key"])?opts["maptype_key"]:"maptype";var _10e=(opts&&opts["partial_match"])?true:false;var _10f=new RegExp("[&\\?]"+_10d+"=([A-Z0-9_]+)","i");if(document.location.toString().match(_10f)){var _110=_10f.exec(document.location.toString());if(_110&&_110[1]){var t=unescape(_110[1]);if(eval("self."+t)){map.setMapType(eval(t));}}}var _112=new RegExp("[&\\?]"+_10b+"=([0-9]+)","i");if(document.location.toString().match(_112)){var _113=_112.exec(document.location.toString());if(_113&&_113[1]){var z=unescape(_113[1]);if(z.match(/[0-9]/)){z=parseFloat(z);if(z>19){z=19;}if(z<0){z=0;}_107=z;}}}var _115=new RegExp("[&\\?]"+_10a+"=([^&]+)","i");if(document.location.toString().match(_115)){var _116=_115.exec(document.location.toString());if(_116&&_116[1]){var c=_116[1].replace(/\+/g," ");c=unescape(c);var _118=new RegExp("([NS])? *(-?[0-9]*.?[0-9]*) *([NS])? *, *([EW])? *(-?[0-9]*.?[0-9]*) *([EW])?","i");if(c.match(_118)){var _119=_118.exec(c.toUpperCase());if(_119&&_119[2]!=null&&_119[5]!=null){var lat=parseFloat(_119[2]);var lon=parseFloat(_119[5]);if(_119[1]=="S"||_119[3]=="S"){lat=0-lat;}if(_119[4]=="W"||_119[6]=="W"){lon=0-lon;}if(Math.abs(lat)<=90&&Math.abs(lon)<=180){_106=new GLatLng(lat,lon);}}}else{var _11c=(opts&&opts["marker_array"]&&eval("self."+opts["marker_array"]))?eval(opts["marker_array"]):null;if(_11c==null){if(self.wpts){_11c=wpts;}else{return false;}}if(_10e){for(i=0;i<_11c.length;i++){if(!_106&&_11c[i].name.toLowerCase().indexOf(c.toLowerCase())>-1){_106=_11c[i].coords;_108=true;}}}else{for(i=0;i<_11c.length;i++){if(!_106&&_11c[i].name==c){_106=_11c[i].coords;_108=true;}}}}}}if(_106){if(_10c&&!_107){_107=_10c;}if(_107){map.setCenter(_106,_107);}else{map.setCenter(_106);}if(_108&&document.getElementById("gv_crosshair")){document.getElementById("gv_crosshair").style.display="none";gv_crosshair_temporarily_hidden=true;}return true;}else{if(_107){map.setZoom(_107);return true;}else{return false;}}}function GV_Setup_Crosshair(map,opts){if(!opts["crosshair_container_id"]){opts["crosshair_container_id"]="gv_crosshair_container";}if(!opts["crosshair_graphic_id"]){opts["crosshair_graphic_id"]="gv_crosshair";}if(!opts["crosshair_width"]){opts["crosshair_width"]=15;}if(!opts["center_coordinates_id"]){opts["center_coordinates_id"]="gv_center_coordinates";}GV_Recenter_Crosshair(map,opts["crosshair_container_id"],opts["crosshair_width"]);GV_Show_Center_Coordinates(map,opts["center_coordinates_id"]);GEvent.addListener(map,"moveend",function(){GV_Show_Center_Coordinates(map,opts["center_coordinates_id"]);});GEvent.addListener(map,"resize",function(){GV_Recenter_Crosshair(map,opts["crosshair_container_id"],opts["crosshair_width"]);GV_Show_Center_Coordinates(map,opts["center_coordinates_id"]);});}function GV_Show_Center_Coordinates(map,id){if(document.getElementById(id)){var lat=map.getCenter().lat().toFixed(5);var lng=map.getCenter().lng().toFixed(5);document.getElementById(id).innerHTML="Center: "+lat+","+lng;}gv_last_center=map.getCenter();}var gv_crosshair_temporarily_hidden=true;function GV_Show_Hidden_Crosshair(map,id){if(self.gv_crosshair_temporarily_hidden&&(!self.gv_last_center||gv_last_center.lat()!=map.getCenter().lat()||gv_last_center.lng()!=map.getCenter().lng())){if(self.gv_hidden_crosshair_is_still_hidden&&gv_hidden_crosshair_is_still_hidden==true){}else{document.getElementById(id).style.display="block";gv_crosshair_temporarily_hidden=false;}}}function GV_Recenter_Crosshair(map,_126,_127){if(document.getElementById(_126)){if(document.getElementById(_126).align){document.getElementById(_126).style.position="absolute";document.getElementById(_126).style.top=Math.round(map.getContainer().clientHeight/2-(_127/2))+"px";document.getElementById(_126).style.left=Math.round(map.getContainer().clientWidth/2-(_127/2))+"px";}else{var x=Math.round(map.getContainer().clientWidth/2-(_127/2));var y=Math.round(map.getContainer().clientHeight/2-(_127/2));GV_Place_Control(map,_126,G_ANCHOR_TOP_LEFT,x,y);}}}function GV_Place_Control(map,_12b,_12c,x,y){if(document.getElementById(_12b)){document.getElementById(_12b).style.display="block";var _12f=new GControlPosition(_12c,new GSize(x,y));_12f.apply(document.getElementById(_12b));map.getContainer().appendChild(document.getElementById(_12b));}}function GV_Remove_Control(_130){if(document.getElementById(_130)){document.getElementById(_130).style.display="none";document.getElementById(_130).parentNode.removeChild(document.getElementById(_130));}}function GV_Adjust_Opacity(id,_132){if(_132<1){_132=_132*100;}if(document.getElementById(id)){var _133=document.getElementById(id);_133.style.filter="alpha(opacity="+_132+")";_133.style.MozOpacity=_132/100;_133.style.KhtmlOpacity=_132/100;}}function GV_Background_Opacity(map,_135){if(_135==null){return;}if(_135<=0){_135=0;}else{if(_135>1){_135=_135/100;}}gv_bg_opacity=_135;var _136=1-_135;var id="gv_opacity_screen";if(!document.getElementById(id)){var _138=document.createElement("div");_138.id=id;_138.className="gmnoprint gv_opacity_screen";_138.style.position="absolute";_138.style.opacity=_136;_138.style.filter="alpha(opacity="+_136*100+")";_138.style.KhtmlOpacity=_136;_138.style.MozOpacity=_136;map.getPane(G_MAP_MAP_PANE).appendChild(_138);GEvent.addListener(map,"moveend",function(){GV_Background_Opacity(map,eval("gv_bg_opacity"));});}GV_Update_Background_Screen(map,id,_136);}function GV_Update_Background_Screen(map,id,_13b){if(map&&document.getElementById(id)&&_13b!=null){var _13c=document.getElementById(id);var _13d=3;var _13e=map.getSize().width;var _13f=map.getSize().height;var nw=new GLatLng(map.getBounds().getNorthEast().lat(),map.getBounds().getSouthWest().lng());var _141=map.fromLatLngToDivPixel(nw);_13c.style.visibility=(_13b==0)?"hidden":"visible";_13c.style.opacity=_13b;_13c.style.filter="alpha(opacity="+_13b*100+")";_13c.style.KhtmlOpacity=_13b;_13c.style.MozOpacity=_13b;_13c.style.left=_141.x-(_13e*((_13d-1)/2))+"px";_13c.style.top=_141.y-(_13f*((_13d-1)/2))+"px";_13c.style.width=_13d*_13e+"px";_13c.style.height=_13d*_13f+"px";if(document.getElementById("gv_opacity_selector")){var _142=document.getElementById("gv_opacity_selector");for(i=0;i<_142.length;i++){if(_142[i].value!=""&&_142[i].value==Math.round(100*(1-_13b))/100){_142.selectedIndex=i;}}}}}function GV_Fill_Window_With_Map(_143){if(!document.getElementById(_143)){return false;}var _144=document.getElementById(_143);var _145=GV_GetWindowSize();_144.style.position="absolute";_144.style.left="0px";_144.style.top="0px";_144.style.width=_145[0]+"px";_144.style.height=_145[1]+"px";}function GV_GetWindowSize(){var x,y;if(window.innerHeight){x=window.innerWidth;y=window.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight){x=document.documentElement.clientWidth;y=document.documentElement.clientHeight;}else{if(document.body){x=document.body.clientWidth;y=document.body.clientHeight;}}}return [x,y];}function GV_MouseWheel(e){if(!e||!self.gmap){return false;}if(e.detail){if(e.detail<0){gmap.zoomIn();}else{if(e.detail>0){gmap.zoomOut();}}}else{if(e.wheelDelta){if(e.wheelDelta>0){gmap.zoomIn();}else{if(e.wheelDelta<0){gmap.zoomOut();}}}}}function GV_MouseWheelReverse(e){if(!e||!self.gmap){return false;}if(e.detail){if(e.detail<0){gmap.zoomOut();}else{if(e.detail>0){gmap.zoomIn();}}}else{if(e.wheelDelta){if(e.wheelDelta>0){gmap.zoomOut();}else{if(e.wheelDelta<0){gmap.zoomIn();}}}}}function Color_Hex2CSS(c){if(c==null){return null;}var rgb=[];rgb=c.match(/([A-F0-9]{2})([A-F0-9]{2})([A-F0-9]{2})/i);if(rgb){return ("rgb("+parseInt(rgb[1],16)+","+parseInt(rgb[2],16)+","+parseInt(rgb[3],16)+")");}else{return (c.replace(/ +/g,""));}}function GV_Color_Name2Hex(_14b){if(_14b.match(/^#[A-F0-9][A-F0-9][A-F0-9][A-F0-9][A-F0-9][A-F0-9]$/i)){return _14b;}var _14c=_14b.replace(/^\#/,"");if(gv_named_html_colors[_14c]){return gv_named_html_colors[_14c];}else{return _14c;}}function GV_Define_Named_Colors(){var c=[];c["aliceblue"]="#f0f8ff";c["antiquewhite"]="#faebd7";c["aqua"]="#00ffff";c["aquamarine"]="#7fffd4";c["azure"]="#f0ffff";c["beige"]="#f5f5dc";c["bisque"]="#ffe4c4";c["black"]="#000000";c["blanchedalmond"]="#ffebcd";c["blue"]="#0000ff";c["blueviolet"]="#8a2be2";c["brown"]="#a52a2a";c["burlywood"]="#deb887";c["cadetblue"]="#5f9ea0";c["chartreuse"]="#7fff00";c["chocolate"]="#d2691e";c["coral"]="#ff7f50";c["cornflowerblue"]="#6495ed";c["cornsilk"]="#fff8dc";c["crimson"]="#dc143c";c["cyan"]="#00ffff";c["darkblue"]="#00008b";c["darkcyan"]="#008b8b";c["darkgoldenrod"]="#b8860b";c["darkgray"]="#a9a9a9";c["darkgreen"]="#006400";c["darkkhaki"]="#bdb76b";c["darkmagenta"]="#8b008b";c["darkolivegreen"]="#556b2f";c["darkorange"]="#ff8c00";c["darkorchid"]="#9932cc";c["darkred"]="#8b0000";c["darksalmon"]="#e9967a";c["darkseagreen"]="#8fbc8f";c["darkslateblue"]="#483d8b";c["darkslategray"]="#2f4f4f";c["darkturquoise"]="#00ced1";c["darkviolet"]="#9400d3";c["deeppink"]="#ff1493";c["deepskyblue"]="#00bfff";c["dimgray"]="#696969";c["dodgerblue"]="#1e90ff";c["firebrick"]="#b22222";c["floralwhite"]="#fffaf0";c["forestgreen"]="#228b22";c["fuchsia"]="#ff00ff";c["gainsboro"]="#dcdcdc";c["ghostwhite"]="#f8f8ff";c["gold"]="#ffd700";c["goldenrod"]="#daa520";c["gray"]="#808080";c["grey"]="#808080";c["green"]="#008000";c["greenyellow"]="#adff2f";c["honeydew"]="#f0fff0";c["hotpink"]="#ff69b4";c["indianred"]="#cd5c5c";c["indigo"]="#4b0082";c["ivory"]="#fffff0";c["khaki"]="#f0e68c";c["lavender"]="#e6e6fa";c["lavenderblush"]="#fff0f5";c["lawngreen"]="#7cfc00";c["lemonchiffon"]="#fffacd";c["lightblue"]="#add8e6";c["lightcoral"]="#f08080";c["lightcyan"]="#e0ffff";c["lightgoldenrodyellow"]="#fafad2";c["lightgreen"]="#90ee90";c["lightgrey"]="#d3d3d3";c["lightpink"]="#ffb6c1";c["lightsalmon"]="#ffa07a";c["lightseagreen"]="#20b2aa";c["lightskyblue"]="#87cefa";c["lightslategray"]="#778899";c["lightsteelblue"]="#b0c4de";c["lightyellow"]="#ffffe0";c["lime"]="#00ff00";c["limegreen"]="#32cd32";c["linen"]="#faf0e6";c["magenta"]="#ff00ff";c["maroon"]="#800000";c["mediumaquamarine"]="#66cdaa";c["mediumblue"]="#0000cd";c["mediumorchid"]="#ba55d3";c["mediumpurple"]="#9370db";c["mediumseagreen"]="#3cb371";c["mediumslateblue"]="#7b68ee";c["mediumspringgreen"]="#00fa9a";c["mediumturquoise"]="#48d1cc";c["mediumvioletred"]="#c71585";c["midnightblue"]="#191970";c["mintcream"]="#f5fffa";c["mistyrose"]="#ffe4e1";c["moccasin"]="#ffe4b5";c["navajowhite"]="#ffdead";c["navy"]="#000080";c["oldlace"]="#fdf5e6";c["olive"]="#808000";c["olivedrab"]="#6b8e23";c["orange"]="#ffa500";c["orangered"]="#ff4500";c["orchid"]="#da70d6";c["palegoldenrod"]="#eee8aa";c["palegreen"]="#98fb98";c["paleturquoise"]="#afeeee";c["palevioletred"]="#db7093";c["papayawhip"]="#ffefd5";c["peachpuff"]="#ffdab9";c["peru"]="#cd853f";c["pink"]="#ffc0cb";c["plum"]="#dda0dd";c["powderblue"]="#b0e0e6";c["purple"]="#800080";c["red"]="#ff0000";c["rosybrown"]="#bc8f8f";c["royalblue"]="#4169e1";c["saddlebrown"]="#8b4513";c["salmon"]="#fa8072";c["sandybrown"]="#f4a460";c["seagreen"]="#2e8b57";c["seashell"]="#fff5ee";c["sienna"]="#a0522d";c["silver"]="#c0c0c0";c["skyblue"]="#87ceeb";c["slateblue"]="#6a5acd";c["slategray"]="#708090";c["snow"]="#fffafa";c["springgreen"]="#00ff7f";c["steelblue"]="#4682b4";c["tan"]="#d2b48c";c["teal"]="#008080";c["thistle"]="#d8bfd8";c["tomato"]="#ff6347";c["turquoise"]="#40e0d0";c["violet"]="#ee82ee";c["wheat"]="#f5deb3";c["white"]="#ffffff";c["whitesmoke"]="#f5f5f5";c["yellow"]="#ffff00";c["yellowgreen"]="#9acd32";return (c);}if(google_api_version>=2){USGS_TOPO_TILES=WMSCreateMap([{name:"Topo",copyright:"Topo maps by USGS via terraserver-usa.com",errorMessage:"Topo maps unavailable",minResolution:5,maxResolution:17,tileSize:400,baseUrl:"http://terraservice.net/ogcmap6.ashx?version=1.1.1&request=GetMap&styles=&srs=EPSG:4326&format=image/jpeg&bgcolor=0xCCCCCC&exceptions=INIMAGE&layers=DRG"}]);USGS_AERIAL_TILES=WMSCreateMap([{name:"Aerial",copyright:"Imagery by USGS via terraserver-usa.com",errorMessage:"USGS aerial imagery unavailable",minResolution:7,maxResolution:18,tileSize:400,baseUrl:"http://terraservice.net/ogcmap6.ashx?version=1.1.1&request=GetMap&styles=&srs=EPSG:4326&format=image/jpeg&bgcolor=0xCCCCCC&exceptions=INIMAGE&layers=DOQ"}]);USGS_AERIAL_HYBRID_TILES=WMSCreateMap([{name:"Aerial+G.",copyright:"Imagery by USGS via terraserver-usa.com",errorMessage:"USGS aerial imagery unavailable",minResolution:7,maxResolution:18,tileSize:256,baseUrl:"http://terraservice.net/ogcmap6.ashx?version=1.1.1&request=GetMap&styles=&srs=EPSG:4326&format=image/jpeg&bgcolor=0xCCCCCC&exceptions=INIMAGE&layers=DOQ",foreground:"G_HYBRID_MAP"}]);NRCAN_TOPO_TILES=WMSCreateMap([{name:"NRCan",copyright:"Maps by NRCan.gc.ca",errorMessage:"NRCan maps unavailable",minResolution:6,maxResolution:18,tileSize:600,baseUrl:"http://wms.cits.rncan.gc.ca/cgi-bin/cubeserv.cgi?version=1.1.3&request=GetMap&format=image/png&bgcolor=0xFFFFFF&exceptions=application/vnd.ogc.se_inimage&srs=EPSG:4326&layers=PUB_50K:CARTES_MATRICIELLES/RASTER_MAPS"}]);NRCAN_TOPO_NAMES_TILES=WMSCreateMap([{name:"NRCan+",copyright:"Maps by NRCan.gc.ca",errorMessage:"NRCan maps unavailable",minResolution:11,maxResolution:18,tileSize:600,baseUrl:"http://wms.cits.rncan.gc.ca/cgi-bin/cubeserv.cgi?version=1.1.3&request=GetMap&format=image/png&bgcolor=0xFFFFFF&exceptions=application/vnd.ogc.se_inimage&srs=EPSG:4326&layers=PUB_50K:CARTES_MATRICIELLES/RASTER_MAPS,TOPONYME_0:BNDT_50K/NTDB_50K"}]);NRCAN_TOPO_HYBRID_TILES=WMSCreateMap([{name:"NRCan+G.",copyright:"Topo maps by NRCan.gc.ca",errorMessage:"NRCan maps unavailable",minResolution:11,maxResolution:18,tileSize:256,baseUrl:"http://wms.cits.rncan.gc.ca/cgi-bin/cubeserv.cgi?version=1.1.3&request=GetMap&format=image/png&bgcolor=0xFFFFFF&exceptions=application/vnd.ogc.se_inimage&srs=EPSG:4326&layers=PUB_50K:CARTES_MATRICIELLES/RASTER_MAPS",foreground:"G_HYBRID_MAP"}]);NEXRAD_TILES=WMSCreateMap([{name:"NEXRAD",copyright:"NEXRAD imagery from Iowa Environmental Mesonet",errorMessage:"NEXRAD imagery unavailable",minResolution:3,maxResolution:14,tileSize:256,baseUrl:"http://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r.cgi?version=1.1.1&request=GetMap&service=WMS&srs=EPSG:4326&format=image/png&transparent=true&styles=&layers=nexrad-n0r",opacity:0.7,background:"G_PHYSICAL_MAP"}]);LANDSAT_TILES=WMSCreateMap([{name:"Landsat",copyright:"Map by NASA",errorMessage:"OnEarth server unavailable",minResolution:3,maxResolution:15,tileSize:260,baseUrl:"http://onearth.jpl.nasa.gov/wms.cgi?request=GetMap&styles=&srs=EPSG:4326&format=image/jpeg&layers=global_mosaic"}]);BLUEMARBLE_TILES=WMSCreateMap([{name:"BlueMarble",copyright:"Map by NASA",errorMessage:"OnEarth server unavailable",minResolution:3,maxResolution:8,tileSize:260,baseUrl:"http://onearth.jpl.nasa.gov/wms.cgi?request=GetMap&styles=&srs=EPSG:4326&format=image/jpeg&layers=modis"}]);DAILY_TERRA_TILES=WMSCreateMap([{name:"\"Terra\"",copyright:"Map by NASA",errorMessage:"OnEarth server unavailable",minResolution:3,maxResolution:10,tileSize:260,baseUrl:"http://onearth.jpl.nasa.gov/wms.cgi?request=GetMap&styles=&srs=EPSG:4326&format=image/jpeg&layers=daily_terra"}]);DAILY_AQUA_TILES=WMSCreateMap([{name:"\"Aqua\"",copyright:"Map by NASA",errorMessage:"OnEarth server unavailable",minResolution:3,maxResolution:10,tileSize:260,baseUrl:"http://onearth.jpl.nasa.gov/wms.cgi?request=GetMap&styles=&srs=EPSG:4326&format=image/jpeg&layers=daily_aqua"}]);DAILY_MODIS_TILES=WMSCreateMap([{name:"MODIS",copyright:"Map by NASA",errorMessage:"OnEarth server unavailable",minResolution:3,maxResolution:10,tileSize:260,baseUrl:"http://onearth.jpl.nasa.gov/wms.cgi?request=GetMap&styles=&srs=EPSG:4326&format=image/jpeg&layers=daily_planet"}]);SRTM_COLOR_TILES=WMSCreateMap([{name:"SRTM",copyright:"SRTM elevation data by NASA",errorMessage:"SRTM elevation data unavailable",minResolution:6,maxResolution:14,tileSize:260,baseUrl:"http://onearth.jpl.nasa.gov/wms.cgi?request=GetMap&srs=EPSG:4326&format=image/jpeg&styles=&layers=huemapped_srtm"}]);MYTOPO_TILES=MyTopoCreateMap();}function GV_Add_Custom_Layers(map){map.addMapType(MYTOPO_TILES);map.addMapType(USGS_TOPO_TILES);map.addMapType(USGS_AERIAL_TILES);map.addMapType(USGS_AERIAL_HYBRID_TILES);map.addMapType(NEXRAD_TILES);map.addMapType(NRCAN_TOPO_TILES);map.addMapType(NRCAN_TOPO_NAMES_TILES);map.addMapType(NRCAN_TOPO_HYBRID_TILES);map.addMapType(LANDSAT_TILES);map.addMapType(BLUEMARBLE_TILES);map.addMapType(DAILY_TERRA_TILES);map.addMapType(DAILY_AQUA_TILES);map.addMapType(DAILY_MODIS_TILES);map.addMapType(SRTM_COLOR_TILES);}function GV_MapTypeControl(_14f){this.control_style=(_14f&&_14f["style"]!=null)?_14f["style"]:gv_maptypecontrol_style;this.filter_map_types=(_14f&&_14f["filter"]!=null)?_14f["filter"]:gv_filter_map_types;this.excluded_map_types=(_14f&&_14f["excluded"]!=null)?_14f["excluded"]:this.excluded_map_types;}if(google_api_version>=2){GV_MapTypeControl.prototype=new GControl();GV_MapTypeControl.prototype.getDefaultPosition=function(){return new GControlPosition(G_ANCHOR_TOP_RIGHT,new GSize(7,7));};GV_MapTypeControl.prototype.initialize=function(map){GV_Add_Custom_Layers(map);var _151=[];_151.push({label:"G. map",type:"G_NORMAL_MAP",title:"Google street map",bounds:[-180,-90,180,90],excluded:[]},{label:"G. satellite",type:"G_SATELLITE_MAP",title:"Google satellite map",bounds:[-180,-90,180,90],excluded:[]},{label:"G. hybrid",type:"G_HYBRID_MAP",title:"Google \"hybrid\" map",bounds:[-180,-90,180,90],excluded:[]});if(self.G_PHYSICAL_MAP){_151.push({label:"G. terrain",type:"G_PHYSICAL_MAP",title:"Google terrain map",bounds:[-180,-90,180,90],excluded:[]});}_151.push({label:"U.S./Can.: MyTopo",type:"MYTOPO_TILES",title:"Canadian topo tiles from MyTopo.com",bounds:[-141,22,-52,85],excluded:[],country:"us,ca"},{label:"USGS topo",type:"USGS_TOPO_TILES",title:"USGS topographic map",bounds:[-169,18,-66,72],excluded:[],country:"us"},{label:"USGS aerial",type:"USGS_AERIAL_TILES",title:"USGS aerial photos (black/white)",bounds:[-152,17,-65,65],excluded:[],country:"us"},{label:"USGS aerial+G.",type:"USGS_AERIAL_HYBRID_TILES",title:"USGS aerial photos (black/white) + Google street map",bounds:[-152,17,-65,65],excluded:[],country:"us"},{label:"U.S. Nexrad",type:"NEXRAD_TILES",title:"United States NEXRAD weather radar",bounds:[-152,17,-65,65],excluded:[],country:"us"},{label:"Canada NRCan",type:"NRCAN_TOPO_TILES",title:"NRCan/Toporama maps with contour lines",bounds:[-141,41.7,-52,85],excluded:[-141,41.7,-86,48],country:"ca"},{label:"Can. NRCan+names",type:"NRCAN_TOPO_NAMES_TILES",title:"NRCan topo maps with feature names",bounds:[-141,41.7,-52,85],excluded:[-141,41.7,-86,48],country:"ca"},{label:"Can. NRCan + G.",type:"NRCAN_TOPO_HYBRID_TILES",title:"NRCan topo maps with Google street names",bounds:[-141,41.7,-52,85],excluded:[-141,41.7,-86,48],country:"ca"},{label:"Landsat 30m",type:"LANDSAT_TILES",title:"NASA Landsat 30-meter imagery",bounds:[-180,-90,180,90],excluded:[]},{label:"Blue Marble",type:"BLUEMARBLE_TILES",title:"NASA \"Visible Earth\" image",bounds:[-180,-90,180,90],excluded:[]},{label:"Daily MODIS",type:"DAILY_MODIS_TILES",title:"Daily imagery from Nasa's MODIS satellites",bounds:[-180,-90,180,90],excluded:[]},{label:"SRTM elevation",type:"SRTM_COLOR_TILES",title:"SRTM elevation data, as color",bounds:[-180,-90,180,90],excluded:[]});if(self.gv_custom_map_types&&gv_custom_map_types.length>0){for(j=0;j<gv_custom_map_types.length;j++){_151.push(gv_custom_map_types[j]);}}var _152=map.getCenter().lat();var _153=map.getCenter().lng();var _154=new Array;if(this.filter_map_types&&this.excluded_map_types){for(j=0;j<this.excluded_map_types.length;j++){_154[this.excluded_map_types[j]]=true;}}for(j=0;j<_151.length;j++){if(self.gv_country&&gv_country){if(_151[j]["country"]&&_151[j]["country"].indexOf(gv_country)<0){_154[_151[j]["type"]]=true;}}else{if(!(_153>=_151[j]["bounds"][0]&&_152>=_151[j]["bounds"][1]&&_153<=_151[j]["bounds"][2]&&_152<=_151[j]["bounds"][3])||(_153>=_151[j]["excluded"][0]&&_152>=_151[j]["excluded"][1]&&_153<=_151[j]["excluded"][2]&&_152<=_151[j]["excluded"][3])){_154[_151[j]["type"]]=true;}}}if(this.control_style=="menu"){var _155=document.createElement("select");_155.id="gv_map_selector";_155.title="Choose a background map";_155.style.font="10px Verdana";_155.style.backgroundColor="#FFFFFF";for(j=0;j<_151.length;j++){if(!this.filter_map_types||!_154[_151[j]["type"]]){var opt=document.createElement("option");opt.value=_151[j]["type"];opt.appendChild(document.createTextNode(_151[j]["label"]));_155.appendChild(opt);if(map.getCurrentMapType()==eval(opt.value)){_155.selectedIndex=_155.length-1;}}}GEvent.addDomListener(_155,"change",function(){map.setMapType(eval(this.value));});map.getContainer().appendChild(_155);return _155;}else{var _157=document.createElement("div");for(j=0;j<_151.length;j++){var _158=true;if(this.filter_map_types&&!(_153>=_151[j]["bounds"][0]&&_152>=_151[j]["bounds"][1]&&_153<=_151[j]["bounds"][2]&&_152<=_151[j]["bounds"][3])||(_153>=_151[j]["excluded"][0]&&_152>=_151[j]["excluded"][1]&&_153<=_151[j]["excluded"][2]&&_152<=_151[j]["excluded"][3])){_158=false;}if(self.gv_country&&gv_country&&_151[j]["country"]&&_151[j]["country"].indexOf(gv_country)<0){_158=false;}if(_154[_151[j]["type"]]){_158=false;}if(_158){var _159=document.createElement("div");_159.className="gv_maptypelink";if(self.gv_maptypecontrol&&map.getCurrentMapType()==eval(_151[j]["type"])){_159.className="gv_maptypelink gv_maptypelink_selected";}_159.title=_151[j]["title"];_159.type=_151[j]["type"];_157.appendChild(_159);_159.appendChild(document.createTextNode(_151[j]["label"]));GEvent.addDomListener(_159,"click",function(){map.setMapType(eval(this.type));if(self.gv_maptypecontrol){map.removeControl(gv_maptypecontrol);map.addControl(gv_maptypecontrol);}});}}map.getContainer().appendChild(_157);return _157;}};}function WMSCreateMap(_15a,_15b,_15c,_15d,_15e,_15f,_160){var _161=(_15a[0]!=undefined&&_15a[0]["name"]!=undefined)?1:0;var _162=[];if(!_161){_162[0]=[];_162[0]["name"]=_15a;_162[0]["copyright"]=_15b;_162[0]["errorMessage"]=_15c;_162[0]["minResolution"]=_15d;_162[0]["maxResolution"]=_15e;_162[0]["tileSize"]=_15f;_162[0]["baseUrl"]=_160;}else{_162=_15a;}var _163=[];for(j=0;j<_162.length;j++){var mi=_162[j];var _165=new GTileLayer(new GCopyrightCollection(mi["copyright"]),mi["minResolution"],mi["maxResolution"]);_165.baseUrl=mi["baseUrl"];_165.tileSize=mi["tileSize"];_165.getTileUrl=WMSGetTileUrl;_165.getCopyright=function(){return {prefix:"",copyrightTexts:[mi["copyright"]]};};if(mi["opacity"]!=undefined){_165.getOpacity=function(){return mi["opacity"];};}if(mi["background"]!=undefined){var _166=eval(mi["background"]+".getTileLayers()");for(var i in _166){if(mi["bg_opacity"]!=undefined){_166[i].getOpacity=function(){return mi["bg_opacity"];};}_163.push(_166[i]);}}_163.push(_165);if(mi["foreground"]!=undefined){var _168=eval(mi["foreground"]+".getTileLayers()");for(var i=0;i<_168.length;i++){if(mi["foreground"]!="G_HYBRID_MAP"||(mi["foreground"]=="G_HYBRID_MAP"&&i==(_168.length-1))){_163.push(_168[i]);}}}}return new GMapType(_163,G_SATELLITE_MAP.getProjection(),mi["name"],{errorMessage:mi["errorMessage"],tileSize:mi["tileSize"]});}function WMSGetTileUrl(tile,zoom){var _16c=new GPoint(tile.x*this.tileSize,(tile.y+1)*this.tileSize);var _16d=new GPoint((tile.x+1)*this.tileSize,tile.y*this.tileSize);var _16e=G_NORMAL_MAP.getProjection().fromPixelToLatLng(_16c,zoom);var _16f=G_NORMAL_MAP.getProjection().fromPixelToLatLng(_16d,zoom);var bbox=_16e.lng()+","+_16e.lat()+","+_16f.lng()+","+_16f.lat();var ts=(this.baseUrl.indexOf("onearth.jpl.nasa.gov")>-1&&this.tileSize==256)?257:this.tileSize;return this.baseUrl+"&bbox="+bbox+"&width="+ts+"&height="+ts;}function MyTopoCreateMap(){var _172=(self.gv_options&&gv_options["map"])?gv_options["map"]:"gmap";var map=eval("self."+_172);var _174="gpsvisualizer";var _175=7;var _176=17;var s=-90;var w=-180;var n=90;var e=180;var _17b="Topo maps &#169; <a href=\"http://www.mytopo.com/?pid="+_174+"\" target=\"_blank\" onclick=\"if(this.href.toString().indexOf('&lat=')>-1){this.href=this.href.toString().replace(/&lat=-?\\d+\\.?\\d*/,'&lat='+"+_172+".getCenter().lat()).replace(/&lon=-?\\d+\\.?\\d*/,'&lon='+"+_172+".getCenter().lng());}else{this.href+='&lat='+"+_172+".getCenter().lat()+'&lon='+"+_172+".getCenter().lng();}\">MyTopo.com</a>";var _17c=new GTileLayer(new GCopyrightCollection(_17b),_175,_176,{isPng:true,tileUrlTemplate:"http://maps1.mytopo.com/"+_174+"/tilecache.cgi/1.0.0/topoG/{Z}/{X}/{Y}.png"});_17c.getCopyright=function(){return _17b;};_17c.layer="MyTopo.com";var _17d=[_17c];return new GMapType(_17d,G_SATELLITE_MAP.getProjection(),"MyTopo",{errorMessage:"MyTopo tiles unavailable",tileSize:256});}function GV_MapOpacityControl(op){this.initial_opacity=(op!=null)?parseFloat(op):100;}if(google_api_version>0){GV_MapOpacityControl.prototype=new GControl();GV_MapOpacityControl.prototype.getDefaultPosition=function(){var _17f=6;if(document.getElementById("gv_map_selector")){_17f=document.getElementById("gv_map_selector").offsetWidth+7+4;}else{if(self.gv_maptypecontrol&&gv_maptypecontrol){_17f=200;}}return new GControlPosition(G_ANCHOR_TOP_RIGHT,new GSize(_17f,7));};GV_MapOpacityControl.prototype.initialize=function(map){var _181=document.createElement("select");_181.id="gv_opacity_selector";_181.title="Adjust the background map's opacity";_181.style.font="10px Verdana";_181.style.backgroundColor="#FFFFFF";var opt=document.createElement("option");opt.value="1";opt.appendChild(document.createTextNode("opacity"));_181.appendChild(opt);for(j=0;j<=10;j++){var opt=document.createElement("option");opt.value=j/10;opt.appendChild(document.createTextNode(j*10+"%"));_181.appendChild(opt);}GEvent.addDomListener(_181,"change",function(){GV_Background_Opacity(map,this.value);});map.getContainer().appendChild(_181);GV_Background_Opacity(map,this.initial_opacity);return _181;};}function GV_Add_Track_to_Tracklist(opts){if(!opts||!opts["name"]||!document.getElementById("gv_tracklist_links")){return false;}if(self.gv_options&&gv_options["tracklist_options"]&&gv_options["tracklist_options"]["tracklist"]===false){return false;}var _185=document.getElementById("gv_tracklist_links");if(self.gv_options&&gv_options["tracklist_options"]&&gv_options["tracklist_options"]["max_width"]>0){_185.style.maxWidth=gv_options["tracklist_options"]["max_width"]+"px";}var _186=(document.getElementById("gv_tracklist"))?Color_Hex2CSS(document.getElementById("gv_tracklist").style.backgroundColor).replace(/ /g,""):Color_Hex2CSS("#FFFFFF").replace(/ /g,"");var _187=Color_Hex2CSS(GV_Color_Name2Hex(opts["color"])).replace(/ /g,"");var _188=(_186=="rgb(204,204,204)")?"#999999":"#CCCCCC";if(_186==_187){opts["color"]=_188;}if(opts["desc"]){opts["desc"]=opts["desc"].replace(/"/g,"&amp;quot;");}var _189=(self.gv_options&&gv_options["tracklist_options"]&&gv_options["tracklist_options"]["desc"])?true:false;var _18a=opts["id"].replace(/'/g,"\\'");var html="";html+="<div class=\"gv_tracklist_item\"><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\">";html+="<tr valign=\"top\">";html+="<td class=\"gv_tracklist_bullet\">"+opts["bullet"].replace(/ <\//g,"&nbsp;</").replace(/ $/,"&nbsp;")+"</td>";html+="<td class=\"gv_tracklist_name\">";if(_189){html+="<span id=\""+opts["id"]+"_label\" style=\"color:"+opts["color"]+"; cursor:pointer;\" onclick=\"GV_Toggle_Track_And_Label("+opts["map_name"]+",'"+_18a+"','"+opts["color"]+"');\" onmouseover=\"this.style.textDecoration='underline';\" onmouseout=\"this.style.textDecoration='none';\">"+opts["name"]+"</span>";}else{html+="<span id=\""+opts["id"]+"_label\" class=\"gv_tracklist_name\" style=\"color:"+opts["color"]+"; cursor:pointer;\" onclick=\"GV_Toggle_Track_And_Label("+opts["map_name"]+",'"+_18a+"','"+opts["color"]+"');\" onmouseover=\"this.style.textDecoration='underline'; GV_Tracklist_Tooltip_Show('"+_18a+"_label','"+eval(opts["map_name"]).getContainer().id+"');\" onmouseout=\"this.style.textDecoration='none'; GV_Tracklist_Tooltip_Hide('"+_18a+"_label');\" title=\""+opts["desc"]+"\">"+opts["name"]+"</span>";}html+="</td>";html+="</tr>";if(_189&&opts["desc"]){html+="<tr valign=\"top\"><td></td><td class=\"gv_tracklist_desc\">"+opts["desc"]+"</td></tr>";}html+="</table></div>";_185.innerHTML+=html;if(self.gv_options&&gv_options["tracklist_options"]&&gv_options["tracklist_options"]["max_width"]&&gv_options["tracklist_options"]["id"]&&document.getElementById(gv_options["tracklist_options"]["id"]+"_table")){var _18c=document.getElementById(gv_options["tracklist_options"]["id"]+"_table");if(_18c.clientWidth>gv_options["tracklist_options"]["max_width"]){_18c.style.width=gv_options["tracklist_options"]["max_width"]+"px";}}if(self.gv_options&&gv_options["tracklist_options"]&&gv_options["tracklist_options"]["max_height"]&&gv_options["tracklist_options"]["id"]&&document.getElementById(gv_options["tracklist_options"]["id"])){var _18d=document.getElementById(gv_options["tracklist_options"]["id"]);if(_18d.clientHeight>gv_options["tracklist_options"]["max_height"]){_18d.style.height=gv_options["tracklist_options"]["max_height"]+"px";}}}function GV_Tracklist_Tooltip_Show(_18e,_18f){var _190,legend_div,item_div,tooltip_div;if(!_18f){_18f="gmap_div";}if(document.getElementById(_18e)){item_div=document.getElementById(_18e);}else{return false;}if(document.getElementById(_18f)){_190=document.getElementById(_18f);}else{return false;}if(document.getElementById("gv_legend_tooltip")){tooltip_div=document.getElementById("gv_legend_tooltip");}else{if(document.getElementById("gv_tracklist_tooltip")){tooltip_div=document.getElementById("gv_tracklist_tooltip");}else{return false;}}if(item_div.title&&!item_div.description){item_div.description=item_div.title;item_div.title="";}if(item_div&&tooltip_div&&item_div.description){tooltip_div.innerHTML=item_div.description;tooltip_div.style.position="absolute";tooltip_div.style.zIndex=-99999;tooltip_div.style.display="block";var _191=findPos(_190);var _192=findPos(item_div);var _193=item_div.offsetHeight||12;var _194=_191[0]+parseInt(_190.offsetWidth);var _195=parseInt(tooltip_div.style.padding);var _196=parseInt(tooltip_div.style.borderWidth);var _197=parseInt(tooltip_div.style.width)||tooltip_div.clientWidth||200;var _198=parseInt(_194-_197-_195*2-_196*2);tooltip_div.style.left=(_192[0]>_198)?_198+"px":_192[0]+"px";tooltip_div.style.top=parseInt(_192[1]+_193+3)+"px";tooltip_div.style.zIndex=99999;tooltip_div.style.visibility="visible";}}function GV_Tracklist_Tooltip_Hide(_199){var _19a,tooltip_div;if(document.getElementById("gv_legend_tooltip")){tooltip_div=document.getElementById("gv_legend_tooltip");}else{if(document.getElementById("gv_tracklist_tooltip")){tooltip_div=document.getElementById("gv_tracklist_tooltip");}else{return false;}}if(document.getElementById(_199)){_19a=document.getElementById(_199);}if(tooltip_div){tooltip_div.innerHTML="";tooltip_div.style.visibility="hidden";tooltip_div.style.display="none";tooltip_div.style.top="-2000px";}}function GV_Tracklist_Tooltip_Hide_Delayed(_19b){var _19c=document.getElementById(_19b);if(_19c){_19c.innerHTML="";_19c.style.visibility="hidden";_19c.style.display="none";_19c.style.top="-2000px";}}function findPos(obj){var left=0;var top=0;if(obj.offsetParent){left=obj.offsetLeft;top=obj.offsetTop;while(obj=obj.offsetParent){left+=obj.offsetLeft;top+=obj.offsetTop;}}return [left,top];}function GPSV_Waypoint(lon,lat,name,desc,url,_1a5,_1a6,_1a7,_1a8){GV_Marker(gmap,lat,lon,name,desc,url,_1a5,_1a6,_1a7,_1a8);}function GPSV_Toggle_Track_And_Label(id,_1aa){GV_Toggle_Track_And_Label(id,_1aa);}function GPSV_Toggle_Opacity(_1ab){GV_Toggle_Overlays(_1ab);}function GPSV_Toggle_Label_Opacity(_1ac,_1ad){GV_Toggle_Label_Opacity(_1ac,_1ad);}function GPSV_MapTypeControl(){}if(google_api_version>=2){GPSV_MapTypeControl.prototype=GV_MapTypeControl.prototype;}function GV_Legend_Tooltip_Show(_1ae,_1af){GV_Tracklist_Tooltip_Show(_1ae,_1af);}function GV_Legend_Tooltip_Hide(_1b0){GV_Tracklist_Tooltip_Hide(_1b0);}function GV_Legend_Tooltip_Hide_Delayed(_1b1){GV_Tracklist_Tooltip_Hide_Delayed(_1b1);}function GV_Load_Markers_From_XML(opts){var _1b3=opts["map"]||"gmap";var map=eval(_1b3);var _1b5=opts["array"]||"wpts";var _1b6=eval(_1b5);var _1b7=opts["xml"]||"markers.xml";if(opts["prevent_caching"]){var _1b8=(_1b7.indexOf("?")>-1)?"&":"?";var _1b9=new Date();_1b7=_1b7+_1b8+"gv_nocache="+_1b9.valueOf();}GDownloadUrl(_1b7,function(data,_1bb){var xml=GXml.parse(data);var _1bd=xml.documentElement.getElementsByTagName(opts["tag"]||"marker");for(var i=0;i<_1bd.length;i++){var m=new Array;m["lat"]=m["lon"]=null;if(_1bd[i].getAttribute("latitude")){m["lat"]=parseFloat(_1bd[i].getAttribute("latitude"));}else{if(_1bd[i].getAttribute("lat")){m["lat"]=parseFloat(_1bd[i].getAttribute("lat"));}}var lon=null;if(_1bd[i].getAttribute("longitude")){m["lon"]=parseFloat(_1bd[i].getAttribute("longitude"));}else{if(_1bd[i].getAttribute("lon")){m["lon"]=parseFloat(_1bd[i].getAttribute("lon"));}else{if(_1bd[i].getAttribute("lng")){m["lon"]=parseFloat(_1bd[i].getAttribute("lng"));}else{if(_1bd[i].getAttribute("long")){m["lon"]=parseFloat(_1bd[i].getAttribute("long"));}}}}if(m["lat"]&&m["lon"]){m["name"]=m["desc"]=m["color"]=m["icon"]="";if(_1bd[i].getAttribute("name")){m["name"]=_1bd[i].getAttribute("name");}if(_1bd[i].getAttribute("desc")){m["desc"]=_1bd[i].getAttribute("desc");}if(_1bd[i].getAttribute("color")){m["color"]=_1bd[i].getAttribute("color");}if(_1bd[i].getAttribute("icon")){m["icon"]=_1bd[i].getAttribute("icon");}else{if(_1bd[i].getAttribute("sym")){m["icon"]=_1bd[i].getAttribute("sym");}else{if(_1bd[i].getAttribute("symbol")){m["icon"]=_1bd[i].getAttribute("symbol");}}}if(_1bd[i].getAttribute("icon_size")&&_1bd[i].getAttribute("icon_size").match(/([0-9]+)[^0-9]+([0-9]+)/)){var _1c1=_1bd[i].getAttribute("icon_size").match(/([0-9]+)[^0-9]+([0-9]+)/);m["icon_size"]=[_1c1[1],_1c1[2]];}else{if(_1bd[i].getAttribute("width")&&_1bd[i].getAttribute("height")){m["icon_size"]=[_1bd[i].getAttribute("width"),_1bd[i].getAttribute("height")];}}if(_1bd[i].getAttribute("scale")){m["scale"]=_1bd[i].getAttribute("scale");}_1b6.push(GV_Marker(map,{lat:m["lat"],lon:m["lon"],name:m["name"],desc:m["desc"],color:m["color"],icon:m["icon"],scale:m["scale"],icon_size:m["icon_size"]}));}}window.setTimeout("GV_Process_Waypoints("+_1b3+","+_1b5+")",200);});}function GV_Get_Dynamic_Markers(opts){var dmo=(opts["dynamic_marker_options"])?opts["dynamic_marker_options"]:opts;if(!dmo["db"]||!dmo["url"]){return;}var _1c4=dmo["url"];var _1c5=opts["map"]||"gmap";var map=eval(_1c5);if(!map){return false;}var _1c7=opts["marker_array"]||"gv_dynamic_markers";if(self.gv_options&&gv_options["marker_filter_options"]){gv_options["marker_filter_options"]["filter"]=false;}gv_filter_waypoints=false;if(!eval("self."+_1c7)){eval(_1c7+" = [];");}var _1c8=eval(_1c7);var SW=map.getBounds().getSouthWest();var NE=map.getBounds().getNorthEast();var _1cb=map.getCenter().lat().toFixed(7);var _1cc=map.getCenter().lng().toFixed(7);var _1cd=true;if(self.gv_zoom_when_reloaded&&(map.getZoom()<gv_zoom_when_reloaded)){_1cd=true;}else{if(self.gv_center_when_reloaded&&self.gv_last_radius){if(map.getCenter().distanceFrom(gv_center_when_reloaded)<gv_last_radius*0.4){_1cd=false;}}}if(_1cd){for(var i=0;i<_1c8.length;i++){map.removeOverlay(_1c8[i]);}gv_marker_count=0;_1c8.length=0;if(gv_marker_list_exists){gv_marker_list_div.innerHTML="Loading markers...";gv_marker_list_html="";gv_marker_list_folders=[];}var _1cf=(dmo["fields"])?dmo["fields"]:"name,description,latitude,longitude";var sort=(dmo["sort"])?dmo["sort"]:"";var url=_1c4+"?db="+dmo["db"]+"&fields="+escape(_1cf)+"&lat_center="+_1cb+"&lon_center="+_1cc+"&lat_min="+SW.lat().toFixed(7)+"&lat_max="+NE.lat().toFixed(7)+"&lon_min="+SW.lng().toFixed(7)+"&lon_max="+NE.lng().toFixed(7)+"&quota="+dmo["limit"]+"&sort="+sort;GDownloadUrl(url,function(data,_1d3){var xml=GXml.parse(data);var _1d5=xml.documentElement.getElementsByTagName("marker");for(var i=0;i<_1d5.length;i++){var _1d7=(_1d5[i].getAttribute("color"))?_1d5[i].getAttribute("color"):"";var _1d8=(_1d5[i].getAttribute("icon"))?_1d5[i].getAttribute("icon"):"";var _1d9=(_1d5[i].getAttribute("label"))?_1d5[i].getAttribute("label"):_1d5[i].getAttribute("name");var _1da=(_1d5[i].getAttribute("shortdesc"))?_1d5[i].getAttribute("shortdesc"):"";var _1db=(_1d5[i].getAttribute("folder"))?_1d5[i].getAttribute("folder"):"";_1d9=(dmo["labels"])?_1d9:"";var m=GV_Marker(map,{lat:_1d5[i].getAttribute("lat"),lon:_1d5[i].getAttribute("lon"),name:_1d5[i].getAttribute("name"),desc:_1d5[i].getAttribute("desc"),shortdesc:_1da,color:_1d7,icon:_1d8,label:_1d9,folder:_1db});_1c8.push(m);}gv_last_radius=0.7*map.getCenter().distanceFrom(map.getBounds().getSouthWest());if(dmo["circle"]){var _1dd=xml.documentElement.getElementsByTagName("trkpt");if(_1dd.length){var _1de=xml.documentElement.getElementsByTagName("trk");gv_last_radius=_1de[0].getAttribute("radius");var pts=[];for(var i=0;i<_1dd.length;i++){pts.push(new GLatLng(_1dd[i].getAttribute("lat"),_1dd[i].getAttribute("lon")));}var _1e1=(gv_marker_color)?gv_marker_color.toLowerCase():"white";_1c8.push(new GPolyline(pts,GV_Color_Name2Hex(_1e1),2,0.2));map.addOverlay(_1c8[_1c8.length-1]);}}if(gv_marker_list_exists){GV_Marker_List();}});gv_center_when_reloaded=map.getCenter();gv_zoom_when_reloaded=map.getZoom();}}function GV_Load_Markers_From_File(){if(!self.gv_options||!gv_options["dynamic_data"]){return false;}var opts=gv_options["dynamic_data"];var _1e3=false;var _1e4=false;if(opts["google_spreadsheet"]&&!opts["url"]){opts["url"]=opts["google_spreadsheet"];_1e3=true;}if(opts["url"].match(/^http:\/\/maps\.google\./)){var _1e5=(opts["url"].indexOf("?")>-1)?"&":"?";opts["url"]=opts["url"]+_1e5+"output=kml";_1e4=true;}else{if(_1e3||(opts["url"]&&opts["url"].indexOf("google.com")>-1)){opts["root_tag"]=(opts["root_tag"])?opts["root_tag"]:"feed";opts["marker_tag"]=(opts["marker_tag"])?opts["marker_tag"]:"entry";opts["tag_prefix"]=(opts["tag_prefix"])?opts["tag_prefix"]:"gsx$";opts["content_tag"]=(opts["content_tag"])?opts["content_tag"]:"$t";opts["tagnames_stripped"]=(opts["tagnames_stripped"]==false)?false:true;opts["prevent_caching"]=false;_1e3=true;}else{if(opts["url"].indexOf(".gpx")>-1){opts["root_tag"]="gpx";opts["marker_tag"]="wpt";opts["track_tag"]="trk";opts["track_segment_tag"]="trkseg";opts["track_point_tag"]="trkpt";opts["tag_prefix"]="";opts["content_tag"]="";opts["tagnames_stripped"]=false;}}}gv_options["dynamic_data"]=opts;if(gv_marker_list_exists){gv_marker_list_div.innerHTML="Loading markers...";if(!self.gv_marker_list_html){gv_marker_list_html="";}if(!self.gv_marker_list_folders){gv_marker_list_folders=[];}}if(!_1e3&&(_1e4||opts["url"].match(/\.xml$/i))){GV_Load_Markers_From_XML_File(opts["url"]);}else{if(_1e3||opts["url"].match(/json|\.js\b|-js\b/i)){GV_Load_Markers_From_JSON(opts["url"]);}else{GV_Load_Markers_From_XML_File(opts["url"]);}}}function GV_Reload_Markers_From_File(){if(!self.gv_options||!gv_options["dynamic_data"]||!gv_options["dynamic_data"]["url"]){return false;}var _1e6=(self.gv_options&&gv_options["map"])?gv_options["map"]:"gmap";var map=eval("self."+_1e6);var _1e8=(self.gv_options&&gv_options["marker_array"])?gv_options["marker_array"]:"wpts";var _1e9=eval("self."+_1e8);if(self.gv_options&&gv_options["marker_filter_options"]){gv_options["marker_filter_options"]["filter"]=false;}gv_filter_waypoints=false;var _1ea=map.getBounds();var _1eb=map.getCenter();var _1ec=map.getZoom();var _1ed=_1eb.lat().toFixed(7);var _1ee=_1eb.lng().toFixed(7);var SW=_1ea.getSouthWest();var NE=_1ea.getNorthEast();var _1f1=true;if(self.gv_dynamic_data_last_zoom&&(_1ec!=gv_dynamic_data_last_zoom)){_1f1=true;}else{if(self.gv_dynamic_data_last_center&&gv_options["dynamic_data"]["movement_threshold"]){var _1f2=_1eb.distanceFrom(new GLatLng(_1eb.lat(),_1ea.getNorthEast().lng()))*2;var _1f3=_1eb.distanceFrom(gv_dynamic_data_last_center);var _1f4=_1f3/_1f2;var _1f5=map.getContainer().clientWidth*_1f4;if(_1f5<parseFloat(gv_options["dynamic_data"]["movement_threshold"])){_1f1=false;}}}gv_dynamic_data_last_center=map.getCenter();gv_dynamic_data_last_zoom=map.getZoom();if(_1f1){for(var i=0;i<_1e9.length;i++){map.removeOverlay(_1e9[i]);}gv_marker_count=0;_1e9.length=0;if(gv_marker_list_exists){gv_marker_list_div.innerHTML="Loading markers...";gv_marker_list_html="";gv_marker_list_folders=[];}GV_Load_Markers_From_File();}}function GV_Load_Markers_From_JSON(url){var key="";var _1f9="default";var _1fa;if(url.indexOf("http")<1&&url.match(/(spreadsheets|docs)\.google\.\w+\//i)){if(url.indexOf("key=")>-1){key=url.replace(/^.*key=([A-Za-z0-9\._-]+).*/,"$1");}else{if(url.indexOf("/feeds/")>-1){key=url.replace(/^.*\/feeds\/\w+\/([A-Za-z0-9\._-]+).*/,"$1");_1f9=url.replace(/^.*\/feeds\/\w+\/[A-Za-z0-9\._-]+\/(\w+).*/,"$1");}}}else{if(url.match(/^http|^\/|\.js\b|json\b/)){var _1fb=(url.indexOf("?")>-1)?"&":"?";_1fa=url+_1fb+"callback=GV_Load_Markers_From_Data_Object";}else{key=url;}}if(key){_1fa="http://spreadsheets.google.com/feeds/list/"+key+"/"+_1f9+"/public/values?alt=json-in-script&callback=GV_Load_Markers_From_Data_Object";}if(!_1fa){return false;}var _1fc=(gv_options["dynamic_data"]["prevent_caching"]==false)?true:false;gv_json_script=new JSONscriptRequest(_1fa,{clean:_1fc});gv_json_script.buildScriptTag();gv_json_script.addScriptTag();window.setTimeout("GV_Check_For_Unsuccessful_JSON(\""+key+"\")",1000);}function GV_Check_For_Unsuccessful_JSON(key){gv_json_script2=new JSONscriptRequest("");var _1fe="if(gv_options['dynamic_data']&&!gv_options['dynamic_data']['processed']){";_1fe+="gv_options['dynamic_data']['processed']=true;";_1fe+="if(1==2 && gv_options['dynamic_data']['url'].match(/spreadsheets.google./)){";_1fe+="a"+"lert('This map was supposed to load data from a Google Docs spreadsheet (key: "+key+"), but the operation may have been unsuccessful. Please verify that the spreadsheet is \\'published.\\'');";_1fe+="}";_1fe+="GV_Finish_Map(gv_options);";_1fe+="}";gv_json_script2.buildScriptTag_custom(_1fe);gv_json_script2.addScriptTag();}function GV_Load_Markers_From_XML_File(url){var _200=false;if(url.indexOf("http")==0){var _201=document.location.toString().substring(9).indexOf("/")+9;var _202=document.location.toString().substring(0,_201);if(url.indexOf(_202)==0){_200=true;}else{_200=false;var _203="http://maps.gpsvisualizer.com/google_maps/xml-json.cgi?callback=GV_Load_Markers_From_Data_Object&url=";GV_Load_Markers_From_JSON(_203+uri_escape(url));return;}}else{_200=true;}if(_200){if(gv_options["dynamic_data"]&&gv_options["dynamic_data"]["reload_on_move"]){var _204=(self.gv_options&&gv_options["map"])?gv_options["map"]:"gmap";var map=eval("self."+_204);var SW=map.getBounds().getSouthWest();var NE=map.getBounds().getNorthEast();var _208=(url.indexOf("?")>-1)?"&":"?";var _209=(parseFloat(gv_options["dynamic_data"]["limit"])>0)?parseFloat(gv_options["dynamic_data"]["limit"]):"";var sort=(gv_options["dynamic_data"]["sort"])?gv_options["dynamic_data"]["sort"]:"";var url=url+_208+"&lat_min="+SW.lat().toFixed(7)+"&lat_max="+NE.lat().toFixed(7)+"&lon_min="+SW.lng().toFixed(7)+"&lon_max="+NE.lng().toFixed(7)+"&limit="+_209+"&sort="+sort;}var _20c=(gv_options["dynamic_data"]&&gv_options["dynamic_data"]["prevent_caching"]==false)?false:true;if(_20c){var _20d=(url.indexOf("?")>-1)?"&":"?";var _20e=new Date();url=url+_20d+"gv_nocache="+_20e.valueOf();}getURL(url,null,GV_Load_Markers_From_XML_File_callback);return;}}function GV_Load_Markers_From_XML_File_callback(text){var _210=parseXML(text);var _211=xml2json(_210,"","");eval("var data_from_xml_file = "+_211);GV_Load_Markers_From_Data_Object(data_from_xml_file);}function GV_Load_Markers_From_Data_Object(data){var opts=gv_options["dynamic_data"];var _214,track_tag,track_segment_tag,track_point_tag,marker_tag,tag_prefix,prefix_length,content_tag,tagnames_stripped;_214=(opts["root_tag"])?opts["root_tag"]:"";track_tag=(opts["track_tag"])?opts["track_tag"]:"";track_segment_tag=(opts["track_segment_tag"])?opts["track_segment_tag"]:"";track_point_tag=(opts["track_point_tag"])?opts["track_point_tag"]:"";marker_tag=(opts["marker_tag"])?opts["marker_tag"]:"";tag_prefix=(opts["tag_prefix"])?opts["tag_prefix"]:"";prefix_length=tag_prefix.length;content_tag=(opts["content_tag"])?opts["content_tag"]:"";tagnames_stripped=(opts["tagnames_stripped"])?true:false;if(self.gv_json_script){gv_json_script.removeScriptTag();}map_name=(self.gv_options&&gv_options["map"])?gv_options["map"]:"gmap";var map=eval("self."+map_name);if(!map){return false;}marker_array_name=(self.gv_options&&gv_options["marker_array"])?gv_options["marker_array"]:"wpts";var _216=eval("self."+marker_array_name);if(!_216){wpts=[];_216=wpts;gv_options["marker_array"]="wpts";}track_array_name=(self.gv_options&&gv_options["track_array"])?gv_options["track_array"]:"trk";var _217=eval("self."+track_array_name);track_info_array_name=(self.gv_options&&gv_options["track_info_array"])?gv_options["track_info_array"]:"trk_info";var _218=eval("self."+track_array_name);if(!_217){trk=[];_217=trk;gv_options["track_array"]="trk";}if(!_218){trk_info=[];_218=trk_info;gv_options["track_info_array"]="trk_info";}if(!_214){for(var rt in data){if(!_214&&data[rt]){_214=rt;}}}if(_214&&!marker_tag){for(var mt in data[_214]){if(!marker_tag&&data[_214][mt]){marker_tag=mt;}}}if(_214=="kml"){if(data[_214]["Document"]||data[_214]["Folder"]||data[_214]["Placemark"]){if(!data[_214]["Document"]){data[_214]["Document"]=[data[_214]];}else{if(!data[_214]["Document"].length){data[_214]["Document"]=[data[_214]["Document"]];}}var _21b=0;var _21c=[];var _21d=[];for(i=0;i<data[_214]["Document"].length;i++){var doc=data[_214]["Document"][i];if(doc["Style"]){if(!doc["Style"].length){doc["Style"]=[doc["Style"]];}for(j=0;j<doc["Style"].length;j++){if(doc["Style"][j]["id"]&&doc["Style"][j]["IconStyle"]){var ist=doc["Style"][j]["IconStyle"];var _220=[];_220["icon"]=(ist["Icon"]&&ist["Icon"]["href"])?ist["Icon"]["href"]:null;_220["scale"]=(ist["scale"])?parseFloat(ist["scale"]):null;if(ist["color"]&&ist["color"].length==8){_220["color"]="#"+ist["color"].replace(/\w\w(\w\w)(\w\w)(\w\w)/,"$3$2$1");_220["opacity"]=parseInt(ist["color"].replace(/(\w\w)\w\w\w\w\w\w/,"$1"),16)/255;}_21c[doc["Style"][j]["id"]]=_220;}if(doc["Style"][j]["id"]&&doc["Style"][j]["LineStyle"]){var lst=doc["Style"][j]["LineStyle"];var _222=[];if(lst["color"]&&lst["color"].length==8){_222["color"]="#"+lst["color"].replace(/\w\w(\w\w)(\w\w)(\w\w)/,"$3$2$1");_222["opacity"]=parseInt(lst["color"].replace(/(\w\w)\w\w\w\w\w\w/,"$1"),16)/255;}if(lst["width"]){_222["width"]=parseFloat(lst["width"]);}_21d[doc["Style"][j]["id"]]=_222;}}}if(doc["StyleMap"]){if(!doc["StyleMap"].length){doc["StyleMap"]=[doc["StyleMap"]];}for(j=0;j<doc["StyleMap"].length;j++){var sm=doc["StyleMap"][j];if(sm["Pair"]){if(!sm["Pair"].length){sm["Pair"]=[sm["Pair"]];}for(k=0;k<sm["Pair"].length;k++){if(sm["Pair"][k]["key"]&&sm["Pair"][k]["key"]=="normal"&&sm["Pair"][k]["styleUrl"]){var _224=sm["Pair"][k]["styleUrl"].replace(/^#/,"");if(_21c[_224]){_21c[sm["id"]]=_21c[_224];}if(_21d[_224]){_21d[sm["id"]]=_21c[_224];}}}}}}if(doc["Folder"]){if(!doc["Placemark"]){doc["Placemark"]=[];}else{if(doc["Placemark"]&&!doc["Placemark"].length){doc["Placemark"]=[doc["Placemark"]];}}if(!doc["Folder"].length){doc["Folder"]=[doc["Folder"]];}for(j=0;j<doc["Folder"].length;j++){var _225=doc["Folder"][j];var _226=(_225["name"])?_225["name"]:"";if(_225["Placemark"]){if(!_225["Placemark"].length){_225["Placemark"]=[_225["Placemark"]];}for(k=0;k<_225["Placemark"].length;k++){var pm=_225["Placemark"][k];pm["folder"]=_226;doc["Placemark"].push(pm);}}if(_225["Folder"]){if(!_225["Folder"].length){_225["Folder"]=[_225["Folder"]];}for(k=0;k<_225["Folder"].length;k++){var _228=_225["Folder"][k];var _229=(_228["name"])?_228["name"]:"";if(_228["Placemark"]){if(!_228["Placemark"].length){_228["Placemark"]=[_228["Placemark"]];}for(l=0;l<_228["Placemark"].length;l++){var pm=_228["Placemark"][l];pm["folder"]=_229;doc["Placemark"].push(pm);}}}}}}if(doc["Placemark"]){if(!doc["Placemark"].length){doc["Placemark"]=[doc["Placemark"]];}for(j=0;j<doc["Placemark"].length;j++){var pm=doc["Placemark"][j];var _22c=[];if(pm["Point"]&&pm["Point"]["coordinates"]){var _22d=pm["Point"]["coordinates"].split(",");_22c["lon"]=parseFloat(_22d[0]);_22c["lat"]=parseFloat(_22d[1]);if((_22c["lat"]==0&&_22c["lon"]==0)||_22c["lat"]=="NaN"||_22c["lon"]=="NaN"||Math.abs(_22c["lat"])>90||Math.abs(_22c["lon"])>180||_22c["lat"]==undefined||_22c["lon"]==undefined){}else{_22c["name"]=(pm["name"])?(pm["name"]):"";_22c["desc"]=(pm["description"])?(pm["description"]):"";_22c["folder"]=(pm["folder"])?(pm["folder"]):"";if(pm["styleUrl"]){var _22e=pm["styleUrl"].replace(/^#/,"");if(_21c[_22e]){for(var attr in _21c[_22e]){_22c[attr]=_21c[_22e][attr];}}}if(pm["Style"]&&pm["Style"]["IconStyle"]){var ist=pm["Style"]["IconStyle"];if(ist["Icon"]&&ist["Icon"]["href"]){_22c["icon"]=ist["Icon"]["href"];}if(ist["scale"]){_22c["scale"]=parseFloat(ist["scale"]);}if(ist["color"]&&ist["color"].length==8){_22c["color"]="#"+ist["color"].replace(/\w\w(\w\w)(\w\w)(\w\w)/,"$3$2$1");_22c["opacity"]=parseInt(ist["color"].replace(/(\w\w)\w\w\w\w\w\w/,"$1"),16)/255;}}else{if(pm["StyleMap"]&&pm["StyleMap"]["Pair"]){if(!pm["StyleMap"]["Pair"].length){pm["StyleMap"]["Pair"]=[pm["StyleMap"]["Pair"]];}for(k=0;k<pm["StyleMap"]["Pair"].length;k++){if(pm["StyleMap"]["Pair"][k]["key"]&&pm["StyleMap"]["Pair"][k]["key"]=="normal"&&pm["StyleMap"]["Pair"][k]["Style"]){var st=pm["StyleMap"]["Pair"][k]["Style"];if(st["IconStyle"]){var ist=st["IconStyle"];if(ist["Icon"]&&ist["Icon"]["href"]){_22c["icon"]=ist["Icon"]["href"];}if(ist["scale"]){_22c["scale"]=parseFloat(ist["scale"]);}if(ist["color"]&&ist["color"].length==8){_22c["color"]="#"+ist["color"].replace(/\w\w(\w\w)(\w\w)(\w\w)/,"$3$2$1");_22c["opacity"]=parseInt(ist["color"].replace(/(\w\w)\w\w\w\w\w\w/,"$1"),16)/255;}}if(st["BalloonStyle"]){var bst=st["BalloonStyle"];var _234=bst["text"].replace(/\$\[(\w+)\]/g,function(_235,_236){return (pm[_236])?pm[_236]:"";});_234=_234.replace(/\s*(<br\/?>\s*|&#160;\s*)*\s*$/g,"");if(_234){_22c["desc"]=_234;}}}}}}if(_22c["icon"]){if(_22c["icon"].match(/maps\.google\.com.*\/mapfiles\/.*icons\/[\w\.\-]+.png/)){_22c["icon_anchor"]=[15,31];}}_216.push(GV_Marker(map,_22c));_21b++;}}else{if(pm["MultiGeometry"]||pm["GeometryCollection"]||pm["LineString"]){var tn=(!_217.length)?1:_217.length+1;_217[tn]=[];_218[tn]=[];_218[tn]["name"]=(pm["name"])?pm["name"]:"[track]";_218[tn]["desc"]=(pm["description"])?pm["description"]:"";_218[tn]["color"]=(opts["track_options"]&&opts["track_options"]["color"])?opts["track_options"]["color"]:"#E600E6";_218[tn]["width"]=(opts["track_options"]&&opts["track_options"]["width"])?parseFloat(opts["track_options"]["width"]):4;_218[tn]["opacity"]=(opts["track_options"]&&opts["track_options"]["opacity"])?parseFloat(opts["track_options"]["opacity"]):0.8;if(pm["styleUrl"]){var _238=pm["styleUrl"].replace(/^#/,"");if(_21d[_238]){for(var attr in _21d[_238]){_218[tn][attr]=_21d[_238][attr];}}}if(pm["Style"]&&pm["Style"]["LineStyle"]){var lst=pm["Style"]["LineStyle"];if(lst["color"]&&lst["color"].length==8){_218[tn]["color"]="#"+lst["color"].replace(/\w\w(\w\w)(\w\w)(\w\w)/,"$3$2$1");_218[tn]["opacity"]=parseInt(lst["color"].replace(/(\w\w)\w\w\w\w\w\w/,"$1"),16)/255;}if(lst["width"]){_218[tn]["width"]=parseFloat(lst["width"]);}}if(!pm["LineString"]){pm["LineString"]=[];}else{if(pm["LineString"]&&!pm["LineString"].length){pm["LineString"]=[pm["LineString"]];}}if(pm["MultiGeometry"]){if(pm["MultiGeometry"]["LineString"]&&!pm["MultiGeometry"]["LineString"].length){pm["MultiGeometry"]["LineString"]=[pm["MultiGeometry"]["LineString"]];}for(k=0;k<pm["MultiGeometry"]["LineString"].length;k++){pm["LineString"].push(pm["MultiGeometry"]["LineString"][k]);}}if(pm["GeometryCollection"]){if(pm["GeometryCollection"]["LineString"]&&!pm["GeometryCollection"]["LineString"].length){pm["GeometryCollection"]["LineString"]=[pm["GeometryCollection"]["LineString"]];}for(k=0;k<pm["GeometryCollection"]["LineString"].length;k++){pm["LineString"].push(pm["GeometryCollection"]["LineString"][k]);}}var _23b=200;for(k=0;k<pm["LineString"].length;k++){if(pm["LineString"][k]["coordinates"]){var pts=[];var _23d=pm["LineString"][k]["coordinates"].split(/\s+/);var _23e=null;for(l=0;l<_23d.length;l++){var _23f=_23d[l].split(",");var lon=parseFloat(_23f[0]);var lat=parseFloat(_23f[1]);if(Math.abs(lat)<=90&&Math.abs(lon)<=180){pts.push(new GLatLng(lat,lon));if(pts.length%_23b==0){pts.unshift(_23e);_217[tn].push(new GPolyline(pts,GV_Color_Name2Hex(_218[tn]["color"]),_218[tn]["width"],_218[tn]["opacity"]));map.addOverlay(_217[tn][_217[tn].length-1]);_23e=new GLatLng(lat,lon);pts=[];}}}if(pts.length>0){if(_23e){pts.unshift(_23e);}_217[tn].push(new GPolyline(pts,GV_Color_Name2Hex(_218[tn]["color"]),_218[tn]["width"],_218[tn]["opacity"]));map.addOverlay(_217[tn][_217[tn].length-1]);}}}GV_Add_Track_to_Tracklist({bullet:"- ",name:_218[tn]["name"],desc:_218[tn]["desc"],color:_218[tn]["color"],map_name:map_name,id:track_array_name+"["+tn+"]"});}}}}}}}else{if(data&&data[_214]&&data[_214][marker_tag]){var _242=[];var _243={lat:true,lon:true,scale:true,opacity:true,rotation:true};if(!data[_214][marker_tag].length){data[_214][marker_tag]=[data[_214][marker_tag]];}var row1=data[_214][marker_tag][0];var _245=new RegExp("{([^{]*)}","g");for(var tag in row1){if(tag_prefix==""||tag.indexOf(tag_prefix)==0){var _247=tag.substring(prefix_length);if(_247.match(/^(name|nom|naam)\d?\b/i)){_242[_247]="name";}else{if(_247.match(/^(desc|descr|description)\d?\b/i)){_242[_247]="desc";}else{if(_247.match(/^(url|web.?page|link)\d?\b/i)){_242[_247]="url";}else{if(_247.match(/^(lati?|latt?itude)\b/i)){_242[_247]="lat";}else{if(_247.match(/^(long?|lng|long?t?itude)\b/i)){_242[_247]="lon";}else{if(_247.match(/^(colou?re?|couleur)\b/i)){_242[_247]="color";}else{if(_247.match(/^(icon|sym|symbol).?size\b/i)){_242[_247]="icon_size";}else{if(_247.match(/^(icon|sym|symbol).?anchor\b/i)){_242[_247]="icon_anchor";}else{if(_247.match(/^(icon|sym|symbol).?scale\b/i)){_242[_247]="scale";}else{if(_247.match(/^(icon|sym|symbol).?opacity\b/i)){_242[_247]="scale";}else{if(_247.match(/^(icon|sym|symbol)/i)){_242[_247]="icon";}else{if(_247.match(/^(thumbnail|thumb|tn).?(width|size)\b/i)){_242[_247]="thumbnail_width";}else{if(_247.match(/^(thumbnail|thumb|tn)\b/i)){_242[_247]="thumbnail";}else{if(_247.match(/^(opaque|opacity)\b/i)){_242[_247]="opacity";}else{if(_247.match(/^label.?offset\b/i)){_242[_247]="label_offset";}else{if(_247.match(/^zoom.?level\b/i)){_242[_247]="zoom_level";}else{if(_247.match(/^gv.?marker.?options\b/i)){_242[_247]="gv_marker_options";}else{if(_247.match(/^(gv.?)?track.?number\b/i)){_242[_247]="gv_track_number";}}}}}}}}}}}}}}}}}}}}_242["description"]="desc";_242["sym"]="icon";_242["symbol"]="icon";_242["colour"]="color";_242["link"]="url";_242["latitude"]="lat";_242["longitude"]="lon";_242["long"]="lon";_242["lng"]="lon";if(opts["field_alias"]){for(var _248 in opts["field_alias"]){_242[opts["field_alias"][_248]]=_248;}}var _249=0;for(i=0;i<data[_214][marker_tag].length;i++){var row=data[_214][marker_tag][i];var _24b=[];for(var tag in row){if(tag.indexOf(tag_prefix)==0){var _24d=tag.substring(prefix_length);_24d=(_242[_24d])?_242[_24d].toLowerCase():_24d.toLowerCase();var _24e=(content_tag)?row[tag][content_tag]:row[tag];if(_24e!=null&&_24e.toString().match(/\w/)){if(_24d=="lat"||_24d=="lon"){_24b[_24d]=parseFloat(ParseCoordinate(_24e));}else{if(_24d=="gv_marker_options"){try{eval("var extra_marker_list_options = {"+_24e+"};");for(var op in extra_marker_list_options){_24b[op]=extra_marker_list_options[op];}}catch(error){}}else{if(_24d=="icon_size"||_24d=="icon_anchor"||_24d=="label_offset"||_24d=="thumbnail_size"){var _250=FindOneOrTwoNumbersInString(_24e);if(_250.length==1){_24b[_24d]=[_250[0],_250[0]];}else{if(_250.length==2){_24b[_24d]=[_250[0],_250[1]];}}}else{if(_243[_24d]||parseFloat(_24e).toString()==_24e.toString()){_24b[_24d]=parseFloat(_24e);}else{if(_24e.toLowerCase()=="true"){_24b[_24d]=true;}else{if(_24e.toLowerCase()=="false"){_24b[_24d]=false;}else{if(_24e==undefined){_24b[_24d]="";}else{_24b[_24d]=_24e;}}}}}}}}else{_24b[_24d]=null;}}}if(opts["synthesize_fields"]){for(var f in opts["synthesize_fields"]){if(opts["synthesize_fields"][f]){var _252=opts["synthesize_fields"][f];_252=_252.replace(_245,function(_253,_254){_254=(tagnames_stripped)?_254.replace(/[^A-Za-z0-9\.]/gi,"").toLowerCase():_254.toLowerCase();if(row[tag_prefix+_254]){return (content_tag)?row[tag_prefix+_254][content_tag]:row[tag_prefix+_254];}});_24b[f]=_252;}}}if(opts["google_content_as_desc"]){_24b["desc"]=(content_tag)?row["content"][content_tag]:row["content"];}if((_24b["lat"]==0&&_24b["lon"]==0)||_24b["lat"]=="NaN"||_24b["lon"]=="NaN"||Math.abs(_24b["lat"])>90||Math.abs(_24b["lon"])>180||_24b["lat"]==undefined||_24b["lon"]==undefined){}else{_216.push(GV_Marker(map,_24b));_249++;if(_24b["gv_track_number"]){_217[_24b["gv_track_number"]].push(_216[_216.length-1]);}}}}if(data&&data[_214]&&track_tag&&data[_214][track_tag]){if(!data[_214][track_tag].length){data[_214][track_tag]=[data[_214][track_tag]];}var _255=(opts["track_options"]&&opts["track_options"]["color"])?opts["track_options"]["color"]:"#E600E6";var _256=(opts["track_options"]&&opts["track_options"]["width"])?parseFloat(opts["track_options"]["width"]):3;var _257=(opts["track_options"]&&opts["track_options"]["opacity"])?parseFloat(opts["track_options"]["opacity"]):0.8;for(i=0;i<data[_214][track_tag].length;i++){var _258=data[_214][track_tag][i];if(track_segment_tag&&_258[track_segment_tag]){var tn=(!_217.length)?1:_217.length+1;_217[tn]=[];_218[tn]=[];_218[tn]["name"]=(_258["name"])?_258["name"]:"[track]";_218[tn]["desc"]=(_258["desc"])?_258["desc"]:"";_218[tn]["color"]=(_258["color"])?_258["color"]:_255;_218[tn]["width"]=(_258["width"])?_258["width"]:_256;_218[tn]["opacity"]=(_258["opacity"])?_258["opacity"]:_257;if(!_258[track_segment_tag].length){_258[track_segment_tag]=[_258[track_segment_tag]];}for(j=0;j<_258[track_segment_tag].length;j++){var _25a=_258[track_segment_tag][j];if(!_25a[track_point_tag].length){_25a[track_point_tag]=[_25a[track_point_tag]];}var pts=[];for(k=0;k<_25a[track_point_tag].length;k++){pts.push(new GLatLng(parseFloat(_25a[track_point_tag][k]["lat"]),parseFloat(_25a[track_point_tag][k]["lon"])));}_217[tn].push(new GPolyline(pts,GV_Color_Name2Hex(_218[tn]["color"]),_218[tn]["width"],_218[tn]["opacity"]));map.addOverlay(_217[tn][_217[tn].length-1]);}GV_Add_Track_to_Tracklist({bullet:"- ",name:_218[tn]["name"],desc:_218[tn]["desc"],color:_218[tn]["color"],map_name:map_name,id:track_array_name+"["+tn+"]"});}}}}gv_options["zoom"]=(opts["autozoom"]!=false)?"auto":gv_options["zoom"];gv_options["autozoom_adjustment"]=(opts["zoom_adjustment"])?opts["zoom_adjustment"]:0;if(_249==1&&document.getElementById("gv_crosshair")){document.getElementById("gv_crosshair").style.display="none";}if(gv_options["dynamic_data"]){gv_options["dynamic_data"]["processed"]=true;}GV_Finish_Map(gv_options);}function FindGoogleAPIVersion(){var v=2;var _25d=document.getElementsByTagName("script");for(var i=0;i<_25d.length;i++){var _25f=/\/mapfiles\/([0-9]+)\/maps([0-9])?\.api\//;var m=_25f.exec(_25d[i].src);if(m!=null&&m[1]&&m[2]){v=parseFloat(m[2]+"."+m[1]);break;}}return v;}function ParseCoordinate(_261){_261=_261.toString();_261=_261.replace(/([0-9][0-9][0-9]?)([0-9][0-9])\.([0-9]+)/,"$1 $2");_261=_261.replace(/[^NESW0-9\.\- ]/gi," ");var neg=0;if(_261.match(/(^\s*-|[WS])/i)){neg=1;}_261=_261.replace(/[NESW\-]/gi," ");if(!_261.match(/[0-9]/i)){return "";}parts=_261.match(/([0-9\.\-]+)[^0-9\.]*([0-9\.]+)?[^0-9\.]*([0-9\.]+)?/);if(!parts||parts[1]==null){return "";}else{n=parseFloat(parts[1]);if(parts[2]){n=n+parseFloat(parts[2])/60;}if(parts[3]){n=n+parseFloat(parts[3])/3600;}if(neg&&n>=0){n=0-n;}n=Math.round(10000000*n)/10000000;if(n==Math.floor(n)){n=n+".0";}n=n+"";n=n.replace(/,/g,".");return n;}}function FindOneOrTwoNumbersInString(text){var _264=new RegExp("(-?[0-9]+.?[0-9]*)[^0-9-]+(-?[0-9]+.?[0-9]*)");var _265=new RegExp("(-?[0-9]+.?[0-9]*)");var _266=[];if(text&&text.match(_264)){var _267=_264.exec(text);if(_267){_266=[parseFloat(_267[1]),parseFloat(_267[2])];}}else{if(text&&text.match(_265)){var _268=_265.exec(text);if(_268){_266=[parseFloat(_268[1])];}}}return _266;}function ELabel(_269,html,_26b,_26c,_26d,_26e,_26f,hide,_271){this.point=_269;this.html=html;this.classname=_26b||"";this.pixelOffset=_26c||new GSize(0,0);if(_26d){if(_26d<0){_26d=0;}if(_26d>100){_26d=100;}}this.percentOpacity=_26d;this.overlap=_26e||false;this.label_id=_26f;this.hide=hide;this.centered=_271;}if(google_api_version>=2){ELabel.prototype=new GOverlay();ELabel.prototype.initialize=function(map){var div=document.createElement("div");div.style.position="absolute";div.style.visibility=(this.hide)?"hidden":"visible";div.innerHTML="<div id = \""+this.label_id+"\" class=\""+this.classname+"\">"+this.html+"</div>";map.getPane(G_MAP_FLOAT_SHADOW_PANE).appendChild(div);this.map_=map;this.div_=div;if(this.percentOpacity){if(typeof (div.style.filter)=="string"){div.style.filter="alpha(opacity:"+this.percentOpacity+")";}if(typeof (div.style.KHTMLOpacity)=="string"){div.style.KHTMLOpacity=this.percentOpacity/100;}if(typeof (div.style.MozOpacity)=="string"){div.style.MozOpacity=this.percentOpacity/100;}if(typeof (div.style.opacity)=="string"){div.style.opacity=this.percentOpacity/100;}}if(this.overlap){var z=GOverlay.getZIndex(this.point.lat());this.div_.style.zIndex=z;}};ELabel.prototype.remove=function(){this.div_.parentNode.removeChild(this.div_);};ELabel.prototype.copy=function(){return new ELabel(this.point,this.html,this.classname,this.pixelOffset,this.percentOpacity,this.overlap);};ELabel.prototype.redraw=function(_275){var p=this.map_.fromLatLngToDivPixel(this.point);var h=parseInt(this.div_.clientHeight);h=15;var _278=(this.centered)?1-parseInt(this.div_.clientWidth/2):this.pixelOffset.width;var _279=this.pixelOffset.height-h;var _27a=parseInt(this.div_.clientWidth/2);this.div_.style.left=(p.x+_278)+"px";this.div_.style.top=(p.y+_279)+"px";};ELabel.prototype.show=function(){this.div_.style.display="";};ELabel.prototype.hide=function(){this.div_.style.display="none";};ELabel.prototype.setContents=function(html){this.html=html;this.div_.innerHTML="<div id = \""+this.label_id+"\" class=\""+this.classname+"\">"+this.html+"</div>";this.redraw(true);};ELabel.prototype.setPoint=function(_27c){this.point=_27c;if(this.overlap){var z=GOverlay.getZIndex(this.point.lat());this.div_.style.zIndex=z;}this.redraw(true);};ELabel.prototype.setOpacity=function(_27e){if(_27e){if(_27e<0){_27e=0;}if(_27e>100){_27e=100;}}this.percentOpacity=_27e;if(this.percentOpacity){if(typeof (this.div_.style.filter)=="string"){this.div_.style.filter="alpha(opacity:"+this.percentOpacity+")";}if(typeof (this.div_.style.KHTMLOpacity)=="string"){this.div_.style.KHTMLOpacity=this.percentOpacity/100;}if(typeof (this.div_.style.MozOpacity)=="string"){this.div_.style.MozOpacity=this.percentOpacity/100;}if(typeof (this.div_.style.opacity)=="string"){this.div_.style.opacity=this.percentOpacity/100;}}};}var Drag={obj:null,init:function(o,_280,minX,maxX,minY,maxY,_285,_286,_287,_288){if(!o){return false;}o.onmousedown=Drag.start;o.hmode=_285?false:true;o.vmode=_286?false:true;o.root=_280&&_280!=null?_280:o;if(o.hmode&&isNaN(parseInt(o.root.style.left))){o.root.style.left="0px";}if(o.vmode&&isNaN(parseInt(o.root.style.top))){o.root.style.top="0px";}if(!o.hmode&&isNaN(parseInt(o.root.style.right))){o.root.style.right="0px";}if(!o.vmode&&isNaN(parseInt(o.root.style.bottom))){o.root.style.bottom="0px";}o.minX=typeof minX!="undefined"?minX:null;o.minY=typeof minY!="undefined"?minY:null;o.maxX=typeof maxX!="undefined"?maxX:null;o.maxY=typeof maxY!="undefined"?maxY:null;o.xMapper=_287?_287:null;o.yMapper=_288?_288:null;o.root.onDragStart=new Function();o.root.onDragEnd=new Function();o.root.onDrag=new Function();},start:function(e){var o=Drag.obj=this;e=Drag.fixE(e);var y=parseInt(o.vmode?o.root.style.top:o.root.style.bottom);var x=parseInt(o.hmode?o.root.style.left:o.root.style.right);o.root.onDragStart(x,y);o.lastMouseX=e.clientX;o.lastMouseY=e.clientY;if(o.hmode){if(o.minX!=null){o.minMouseX=e.clientX-x+o.minX;}if(o.maxX!=null){o.maxMouseX=o.minMouseX+o.maxX-o.minX;}}else{if(o.minX!=null){o.maxMouseX=-o.minX+e.clientX+x;}if(o.maxX!=null){o.minMouseX=-o.maxX+e.clientX+x;}}if(o.vmode){if(o.minY!=null){o.minMouseY=e.clientY-y+o.minY;}if(o.maxY!=null){o.maxMouseY=o.minMouseY+o.maxY-o.minY;}}else{if(o.minY!=null){o.maxMouseY=-o.minY+e.clientY+y;}if(o.maxY!=null){o.minMouseY=-o.maxY+e.clientY+y;}}gv_onmousemove_before_dragging=document.onmousemove;gv_onmouseup_before_dragging=document.onmouseup;document.onmousemove=Drag.drag;document.onmouseup=Drag.end;return false;},drag:function(e){e=Drag.fixE(e);var o=Drag.obj;var ey=e.clientY;var ex=e.clientX;var y=parseInt(o.vmode?o.root.style.top:o.root.style.bottom);var x=parseInt(o.hmode?o.root.style.left:o.root.style.right);var nx,ny;if(o.minX!=null){ex=o.hmode?Math.max(ex,o.minMouseX):Math.min(ex,o.maxMouseX);}if(o.maxX!=null){ex=o.hmode?Math.min(ex,o.maxMouseX):Math.max(ex,o.minMouseX);}if(o.minY!=null){ey=o.vmode?Math.max(ey,o.minMouseY):Math.min(ey,o.maxMouseY);}if(o.maxY!=null){ey=o.vmode?Math.min(ey,o.maxMouseY):Math.max(ey,o.minMouseY);}nx=x+((ex-o.lastMouseX)*(o.hmode?1:-1));ny=y+((ey-o.lastMouseY)*(o.vmode?1:-1));if(o.xMapper){nx=o.xMapper(y);}else{if(o.yMapper){ny=o.yMapper(x);}}Drag.obj.root.style[o.hmode?"left":"right"]=nx+"px";Drag.obj.root.style[o.vmode?"top":"bottom"]=ny+"px";Drag.obj.lastMouseX=ex;Drag.obj.lastMouseY=ey;Drag.obj.root.onDrag(nx,ny);return false;},end:function(){document.onmousemove=(self.gv_onmousemove_before_dragging)?gv_onmousemove_before_dragging:null;document.onmouseup=(self.gv_onmouseup_before_dragging)?gv_onmouseup_before_dragging:null;Drag.obj.root.onDragEnd(parseInt(Drag.obj.root.style[Drag.obj.hmode?"left":"right"]),parseInt(Drag.obj.root.style[Drag.obj.vmode?"top":"bottom"]));Drag.obj=null;},fixE:function(e){if(typeof e=="undefined"){e=window.event;}if(typeof e.layerX=="undefined"){e.layerX=e.offsetX;}if(typeof e.layerY=="undefined"){e.layerY=e.offsetY;}return e;}};function JSONscriptRequest(_295,opts){var _297=(opts&&opts["clean"])?true:false;this.fullUrl=_295;this.noCacheIE=(_297)?"":(_295.indexOf("?")>-1)?"&noCacheIE="+(new Date()).getTime():"?noCacheIE="+(new Date()).getTime();this.headLoc=document.getElementsByTagName("head").item(0);this.scriptId="YJscriptId"+JSONscriptRequest.scriptCounter++;}JSONscriptRequest.scriptCounter=1;JSONscriptRequest.prototype.buildScriptTag=function(){this.scriptObj=document.createElement("script");this.scriptObj.setAttribute("type","text/javascript");this.scriptObj.setAttribute("src",this.fullUrl+this.noCacheIE);this.scriptObj.setAttribute("id",this.scriptId);};JSONscriptRequest.prototype.buildScriptTag_custom=function(js){this.scriptObj=document.createElement("script");this.scriptObj.setAttribute("type","text/javascript");this.scriptObj.setAttribute("id",this.scriptId);this.scriptObj.text=js;};JSONscriptRequest.prototype.removeScriptTag=function(){if(this.scriptObj){if(this.scriptObj.parentNode!=this.headLoc){this.scriptObj.parentNode.removeChild(this.scriptObj);}else{this.headLoc.removeChild(this.scriptObj);}}};JSONscriptRequest.prototype.addScriptTag=function(){this.headLoc.appendChild(this.scriptObj);};function uri_escape(text){text=escape(text);text=text.replace(/\//g,"%2F");text=text.replace(/\?/g,"%3F");text=text.replace(/=/g,"%3D");text=text.replace(/&/g,"%26");text=text.replace(/@/g,"%40");text=text.replace(/\#/g,"%23");return (text);}function json2xml(o,tab){var _29c=function(v,name,ind){var xml="";if(v instanceof Array){for(var i=0,n=v.length;i<n;i++){xml+=ind+_29c(v[i],name,ind+"\t")+"\n";}}else{if(typeof (v)=="object"){var _2a2=false;xml+=ind+"<"+name;for(var m in v){if(m.charAt(0)=="@"){xml+=" "+m.substr(1)+"=\""+v[m].toString()+"\"";}else{_2a2=true;}}xml+=_2a2?">":"/>";if(_2a2){for(var m in v){if(m=="#text"){xml+=v[m];}else{if(m=="#cdata"){xml+="<![CDATA["+v[m]+"]]>";}else{if(m.charAt(0)!="@"){xml+=_29c(v[m],m,ind+"\t");}}}}xml+=(xml.charAt(xml.length-1)=="\n"?ind:"")+"</"+name+">";}}else{xml+=ind+"<"+name+">"+v.toString()+"</"+name+">";}}return xml;},xml="";for(var m in o){xml+=_29c(o[m],m,"");}return tab?xml.replace(/\t/g,tab):xml.replace(/\t|\n/g,"");}function xml2json(xml,tab,_2a8){var X={toObj:function(xml){var o={};if(xml.nodeType==1){if(xml.attributes.length){for(var i=0;i<xml.attributes.length;i++){o[_2a8+xml.attributes[i].nodeName]=(xml.attributes[i].nodeValue||"").toString();}}if(xml.firstChild){var _2ad=0,cdataChild=0,hasElementChild=false;for(var n=xml.firstChild;n;n=n.nextSibling){if(n.nodeType==1){hasElementChild=true;}else{if(n.nodeType==3&&n.nodeValue.match(/[^ \f\n\r\t\v]/)){_2ad++;}else{if(n.nodeType==4){cdataChild++;}}}}if(hasElementChild){if(_2ad<2&&cdataChild<2){X.removeWhite(xml);for(var n=xml.firstChild;n;n=n.nextSibling){if(n.nodeType==3){o=X.escape(n.nodeValue);}else{if(n.nodeType==4){o=X.escape(n.nodeValue);}else{if(o[n.nodeName]){if(o[n.nodeName] instanceof Array){o[n.nodeName][o[n.nodeName].length]=X.toObj(n);}else{o[n.nodeName]=[o[n.nodeName],X.toObj(n)];}}else{o[n.nodeName]=X.toObj(n);}}}}}else{if(!xml.attributes.length){o=X.escape(X.innerXml(xml));}else{o=X.escape(X.innerXml(xml));}}}else{if(_2ad){if(!xml.attributes.length){o=X.escape(X.innerXml(xml));}else{o=X.escape(X.innerXml(xml));}}else{if(cdataChild){if(cdataChild>1){o=X.escape(X.innerXml(xml));}else{for(var n=xml.firstChild;n;n=n.nextSibling){o=X.escape(n.nodeValue);}}}}}}if(!xml.attributes.length&&!xml.firstChild){o=null;}}else{if(xml.nodeType==9){o=X.toObj(xml.documentElement);}else{var _2b1=("unhandled node type: "+xml.nodeType);}}return o;},toJson:function(o,name,ind){var json=name?("\""+name+"\""):"";if(o instanceof Array){for(var i=0,n=o.length;i<n;i++){o[i]=X.toJson(o[i],"",ind+"\t");}json+=(name?":[":"[")+(o.length>1?("\n"+ind+"\t"+o.join(",\n"+ind+"\t")+"\n"+ind):o.join(""))+"]";}else{if(o==null){json+=(name&&":")+"null";}else{if(typeof (o)=="object"){var arr=[];for(var m in o){arr[arr.length]=X.toJson(o[m],m,ind+"\t");}json+=(name?":{":"{")+(arr.length>1?("\n"+ind+"\t"+arr.join(",\n"+ind+"\t")+"\n"+ind):arr.join(""))+"}";}else{if(typeof (o)=="string"){json+=(name&&":")+"\""+o.toString()+"\"";}else{json+=(name&&":")+o.toString();}}}}return json;},innerXml:function(node){var s="";if("innerHTML" in node){s=node.innerHTML;}else{var _2bb=function(n){var s="";if(n.nodeType==1){s+="<"+n.nodeName;for(var i=0;i<n.attributes.length;i++){s+=" "+n.attributes[i].nodeName+"=\""+(n.attributes[i].nodeValue||"").toString()+"\"";}if(n.firstChild){s+=">";for(var c=n.firstChild;c;c=c.nextSibling){s+=_2bb(c);}s+="</"+n.nodeName+">";}else{s+="/>";}}else{if(n.nodeType==3){s+=n.nodeValue;}else{if(n.nodeType==4){s+="<![CDATA["+n.nodeValue+"]]>";}}}return s;};for(var c=node.firstChild;c;c=c.nextSibling){s+=_2bb(c);}}return s;},escape:function(txt){return txt.replace(/[\\]/g,"\\\\").replace(/[\"]/g,"\\\"").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r");},removeWhite:function(e){e.normalize();for(var n=e.firstChild;n;){if(n.nodeType==3){if(!n.nodeValue.match(/[^ \f\n\r\t\v]/)){var nxt=n.nextSibling;e.removeChild(n);n=nxt;}else{n=n.nextSibling;}}else{if(n.nodeType==1){X.removeWhite(n);n=n.nextSibling;}else{n=n.nextSibling;}}}return e;}};if(xml.nodeType==9){xml=xml.documentElement;}var json=X.toJson(X.toObj(X.removeWhite(xml)),xml.nodeName,"\t");return "{\n"+tab+(tab?json.replace(/\t/g,tab):json.replace(/\t|\n/g,""))+"\n}";}function parseXML(xml){var dom=null;if(window.DOMParser){try{dom=(new DOMParser()).parseFromString(xml,"text/xml");}catch(e){dom=null;}}else{if(window.ActiveXObject){try{dom=new ActiveXObject("Microsoft.XMLDOM");dom.async=false;if(!dom.loadXML(xml)){var _2c8=(dom.parseError.reason+dom.parseError.srcText);}}catch(e){dom=null;}}else{return false;}}return dom;}function getURL(url,vars,_2cb){if(typeof (XMLHttpRequest)=="undefined"){XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0");}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0");}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP");}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP");}catch(e){}};}var _2cc=new XMLHttpRequest();_2cc.open("GET",url,true);_2cc.setRequestHeader("Content-Type","application/x-javascript;");_2cc.onreadystatechange=function(){if(_2cc.readyState==4&&_2cc.status==200){if(_2cc.responseText){_2cb(_2cc.responseText);}}};_2cc.send(vars);}